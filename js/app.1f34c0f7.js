(function(t){function e(e){for(var n,o,r=e[0],l=e[1],c=e[2],u=0,h=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&h.push(s[o][0]),s[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(h.length)h.shift()();return a.push.apply(a,c||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,r=1;r<i.length;r++){var l=i[r];0!==s[l]&&(n=!1)}n&&(a.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},s={app:0},a=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/API_Bason/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0167":function(t,e,i){"use strict";i("8e72")},"062c":function(module,exports,__webpack_require__){var _createForOfIteratorHelper=__webpack_require__("6374").default,_readOnlyError=__webpack_require__("da60").default,_typeof=__webpack_require__("7037").default,_classCallCheck=__webpack_require__("970b").default,_createClass=__webpack_require__("5bc3").default,_inherits=__webpack_require__("ed6d").default,_createSuper=__webpack_require__("2d0d").default,_wrapNativeSuper=__webpack_require__("a128").default;if(__webpack_require__("d3b7"),__webpack_require__("25f0"),__webpack_require__("b680"),__webpack_require__("5319"),__webpack_require__("ac1f"),__webpack_require__("fb6a"),__webpack_require__("1276"),__webpack_require__("99af"),__webpack_require__("9911"),__webpack_require__("1913"),__webpack_require__("ddb0"),__webpack_require__("cb29"),__webpack_require__("a434"),__webpack_require__("b0c0"),__webpack_require__("159b"),window.customElements){var styles=document.createElement("style");styles.innerHTML="#webaudioctrl-context-menu {\n  display: none;\n  position: absolute;\n  z-index: 10;\n  padding: 0;\n  width: 100px;\n  color:#eee;\n  background-color: #268;\n  border: solid 1px #888;\n  box-shadow: 1px 1px 2px #888;\n  font-family: sans-serif;\n  font-size: 11px;\n  line-height:1.7em;\n  text-align:center;\n  cursor:pointer;\n  color:#fff;\n  list-style: none;\n}\n#webaudioctrl-context-menu.active {\n  display: block;\n}\n.webaudioctrl-context-menu__item {\n  display: block;\n  margin: 0;\n  padding: 0;\n  color: #000;\n  background-color:#eee;\n  text-decoration: none;\n}\n.webaudioctrl-context-menu__title{\n  font-weight:bold;\n}\n.webaudioctrl-context-menu__item:last-child {\n  margin-bottom: 0;\n}\n.webaudioctrl-context-menu__item:hover {\n  background-color: #b8b8b8;\n}\n",document.head.appendChild(styles);var midimenu=document.createElement("ul");midimenu.id="webaudioctrl-context-menu",midimenu.innerHTML='<li class="webaudioctrl-context-menu__title">MIDI Learn</li>\n<li class="webaudioctrl-context-menu__item" id="webaudioctrl-context-menu-learn" onclick="webAudioControlsWidgetManager.contextMenuLearn()">Learn</li>\n<li class="webaudioctrl-context-menu__item" onclick="webAudioControlsWidgetManager.contextMenuClear()">Clear</li>\n<li class="webaudioctrl-context-menu__item" onclick="webAudioControlsWidgetManager.contextMenuClose()">Close</li>\n';var opt={useMidi:0,preserveMidiLearn:0,preserveValue:0,midilearn:0,mididump:0,outline:null,knobSrc:null,knobSprites:null,knobWidth:null,knobHeight:null,knobDiameter:null,knobColors:"#e00;#000;#fff",sliderSrc:null,sliderWidth:null,sliderHeight:null,sliderKnobSrc:null,sliderKnobWidth:null,sliderKnobHeight:null,sliderDitchlength:null,sliderColors:"#e00;#333;#fcc",switchWidth:null,switchHeight:null,switchDiameter:null,switchColors:"#e00;#000;#fcc",paramWidth:null,paramHeight:null,paramFontSize:9,paramColors:"#fff;#000",valuetip:0,xypadColors:"#e00;#000;#fcc"};window.WebAudioControlsOptions&&Object.assign(opt,window.WebAudioControlsOptions);var WebAudioControlsWidget=function(t){"use strict";_inherits(i,t);var e=_createSuper(i);function i(){var t;return _classCallCheck(this,i),t=e.call(this),t.addEventListener("keydown",t.keydown),t.addEventListener("mousedown",t.pointerdown,{passive:!1}),t.addEventListener("touchstart",t.pointerdown,{passive:!1}),t.addEventListener("wheel",t.wheel,{passive:!1}),t.addEventListener("mouseover",t.pointerover),t.addEventListener("mouseout",t.pointerout),t.addEventListener("contextmenu",t.contextMenu),t.hover=t.drag=0,document.body.appendChild(midimenu),t.basestyle='\n.webaudioctrl-tooltip{\n  display:inline-block;\n  position:absolute;\n  margin:0 -1000px;\n  z-index: 999;\n  background:#eee;\n  color:#000;\n  border:1px solid #666;\n  border-radius:4px;\n  padding:5px 10px;\n  text-align:center;\n  left:0; top:0;\n  font-size:11px;\n  opacity:0;\n  visibility:hidden;\n}\n.webaudioctrl-tooltip:before{\n  content: "";\n  position: absolute;\n  top: 100%;\n  left: 50%;\n  margin-left: -8px;\n  border: 8px solid transparent;\n  border-top: 8px solid #666;\n}\n.webaudioctrl-tooltip:after{\n  content: "";\n  position: absolute;\n  top: 100%;\n  left: 50%;\n  margin-left: -6px;\n  border: 6px solid transparent;\n  border-top: 6px solid #eee;\n}\n',t.onblur=function(){t.elem.style.outline="none"},t.onfocus=function(){switch(+t.outline){case null:case 0:t.elem.style.outline="none";break;case 1:t.elem.style.outline="1px solid #444";break;default:t.elem.style.outline=t.outline}},t}return _createClass(i,[{key:"sendEvent",value:function(t){var e;e=document.createEvent("HTMLEvents"),e.initEvent(t,!1,!0),this.dispatchEvent(e)}},{key:"getAttr",value:function(t,e){var i=this.getAttribute(t);if(null==i)return e;switch(_typeof(e)){case"number":return"true"==i?1:(i=+i,isNaN(i)?0:i)}return i}},{key:"showtip",value:function(t){function e(t,e,i){switch(i){case"x":return(0|t).toString(16);case"X":return(0|t).toString(16).toUpperCase();case"d":return(0|t).toString();case"f":return parseFloat(t).toFixed(e);case"s":return t.toString()}return""}function i(t,i){var n=t.indexOf("%"),s=n+1;n<0&&(s=t.length);var a=[0,0],o=0,r=0,l="";if(t.indexOf("%s")>=0)return t.replace("%s",i);for(;s<t.length;++s){if("dfxXs".indexOf(t[s])>=0){o=t[s];break}"."==t[s]?r=1:a[r]=10*a[r]+parseInt(t[s])}return l=e(i,a[1],o),a[0]>0&&(l=("               "+l).slice(-a[0])),l=t.replace(/%.*[xXdfs]/,l),l}var n=this.tooltip;if((this.drag||this.hover)&&(this.valuetip&&(null==n?n="%s":n.indexOf("%")<0&&(n+=" : %s")),n)){this.ttframe.innerHTML=i(n,this.convValue),this.ttframe.style.display="inline-block",this.ttframe.style.width="auto",this.ttframe.style.height="auto",this.ttframe.style.transition="opacity 0.5s "+t+"s,visibility 0.5s "+t+"s",this.ttframe.style.opacity=.9,this.ttframe.style.visibility="visible";var s=this.getBoundingClientRect(),a=this.ttframe.getBoundingClientRect();document.documentElement.getBoundingClientRect();return this.ttframe.style.left=.5*(s.width-a.width)+1e3+"px",void(this.ttframe.style.top=-a.height-8+"px")}this.ttframe.style.transition="opacity 0.1s "+t+"s,visibility 0.1s "+t+"s",this.ttframe.style.opacity=0,this.ttframe.style.visibility="hidden"}},{key:"setupLabel",value:function(){this.labelpos=this.getAttr("labelpos","bottom 0px");var t=this.labelpos.split(" "),e="";switch(3==t.length&&(e="translate(".concat(t[1],",").concat(t[2],")")),this.label.style.position="absolute",t[0]){case"center":this.label.style.top="50%",this.label.style.left="50%",this.label.style.transform="translate(-50%,-50%) ".concat(e);break;case"right":this.label.style.top="50%",this.label.style.left="100%",this.label.style.transform="translateY(-50%) ".concat(e);break;case"left":this.label.style.top="50%",this.label.style.left="0%",this.label.style.transform="translate(-100%,-50%) ".concat(e);break;case"bottom":this.label.style.top="100%",this.label.style.left="50%",this.label.style.transform="translateX(-50%) ".concat(e);break;case"top":this.label.style.top="0%",this.label.style.left="50%",this.label.style.transform="translate(-50%,-100%) ".concat(e);break}}},{key:"pointerover",value:function(t){this.hover=1,this.showtip(.6)}},{key:"pointerout",value:function(t){this.hover=0,this.showtip(0)}},{key:"contextMenu",value:function(t){window.webAudioControlsWidgetManager&&this.midilearn&&webAudioControlsWidgetManager.contextMenuOpen(t,this),t.preventDefault(),t.stopPropagation()}},{key:"setMidiController",value:function(t,e){this.listeningToThisMidiController(t,e)||(this.midiController={channel:t,cc:e},console.log("Added mapping for channel="+t+" cc="+e+" tooltip="+this.tooltip))}},{key:"listeningToThisMidiController",value:function(t,e){var i=this.midiController;return(i.channel===t||i.channel<0)&&i.cc===e}},{key:"processMidiEvent",value:function(t){var e=15&t.data[0],i=t.data[1];if("learn"==this.midiMode&&(this.setMidiController(e,i),webAudioControlsWidgetManager.contextMenuClose(),this.midiMode="normal",webAudioControlsWidgetManager.preserveMidiLearn()),this.listeningToThisMidiController(e,i))if("WEBAUDIO-SWITCH"==this.tagName)switch(this.type){case"toggle":t.data[2]>=64&&this.setValue(1-this.value,!0);break;case"kick":this.setValue(t.data[2]>=64?1:0);break;case"radio":for(var n=document.querySelectorAll("webaudio-switch[type='radio'][group='"+this.group+"']"),s=0;s<n.length;++s)n[s]==this?n[s].setValue(1):n[s].setValue(0);break}else{var a=this.min+(this.max-this.min)*t.data[2]/127;this.setValue(a,!0)}}}]),i}(_wrapNativeSuper(HTMLElement));try{customElements.define("webaudio-knob",function(_WebAudioControlsWidg){"use strict";_inherits(WebAudioKnob,_WebAudioControlsWidg);var _super2=_createSuper(WebAudioKnob);function WebAudioKnob(){return _classCallCheck(this,WebAudioKnob),_super2.call(this)}return _createClass(WebAudioKnob,[{key:"connectedCallback",value:function connectedCallback(){var _this2=this,root;if(root=this.attachShadow?this.attachShadow({mode:"open"}):this,root.innerHTML="<style>\n".concat(this.basestyle,"\n:host{\n  display:inline-block;\n  margin:0;\n  padding:0;\n  cursor:pointer;\n  font-family: sans-serif;\n  font-size: 11px;\n}\n.webaudio-knob-body{\n  display:inline-block;\n  position:relative;\n  margin:0;\n  padding:0;\n  vertical-align:bottom;\n  white-space:pre;\n}\n</style>\n<div class='webaudio-knob-body' tabindex='1' touch-action='none'><div class='webaudioctrl-tooltip'></div><div part=\"label\" class=\"webaudioctrl-label\"><slot></slot></div></div>\n"),this.elem=root.childNodes[2],this.ttframe=this.elem.firstChild,this.label=this.ttframe.nextSibling,this.enable=this.getAttr("enable",1),this._src=this.getAttr("src",opt.knobSrc),Object.defineProperty(this,"src",{get:function(){return _this2._src},set:function(t){_this2._src=t,_this2.setupImage()}}),this._value=this.getAttr("value",0),Object.defineProperty(this,"value",{get:function(){return _this2._value},set:function(t){_this2._value=t,_this2.redraw()}}),this.defvalue=this.getAttr("defvalue",this._value),this._min=this.getAttr("min",0),Object.defineProperty(this,"min",{get:function(){return _this2._min},set:function(t){_this2._min=+t,_this2.redraw()}}),this._max=this.getAttr("max",100),Object.defineProperty(this,"max",{get:function(){return _this2._max},set:function(t){_this2._max=+t,_this2.redraw()}}),this._step=this.getAttr("step",1),Object.defineProperty(this,"step",{get:function(){return _this2._step},set:function(t){_this2._step=+t,_this2.redraw()}}),this._sprites=this.getAttr("sprites",opt.knobSprites),Object.defineProperty(this,"sprites",{get:function(){return _this2._sprites},set:function(t){_this2._sprites=t,_this2.setupImage()}}),this._width=this.getAttr("width",null),Object.defineProperty(this,"width",{get:function(){return _this2._width},set:function(t){_this2._width=t,_this2.setupImage()}}),this._height=this.getAttr("height",null),Object.defineProperty(this,"height",{get:function(){return _this2._height},set:function(t){_this2._height=t,_this2.setupImage()}}),this._diameter=this.getAttr("diameter",null),Object.defineProperty(this,"diameter",{get:function(){return _this2._diameter},set:function(t){_this2._diameter=t,_this2.setupImage()}}),this._colors=this.getAttr("colors",opt.knobColors),Object.defineProperty(this,"colors",{get:function(){return _this2._colors},set:function(t){_this2._colors=t,_this2.setupImage()}}),this.outline=this.getAttr("outline",opt.outline),this.setupLabel(),this.log=this.getAttr("log",0),this.sensitivity=this.getAttr("sensitivity",1),this.valuetip=this.getAttr("valuetip",opt.valuetip),this.tooltip=this.getAttr("tooltip",null),this.conv=this.getAttr("conv",null),this.conv){var x=this._value;this.convValue=eval(this.conv),"function"==typeof this.convValue&&(this.convValue=this.convValue(x))}else this.convValue=this._value;if(this.midilearn=this.getAttr("midilearn",opt.midilearn),this.midicc=this.getAttr("midicc",null),this.midiController={},this.midiMode="normal",this.midicc){var ch=parseInt(this.midicc.substring(0,this.midicc.lastIndexOf(".")))-1,cc=parseInt(this.midicc.substring(this.midicc.lastIndexOf(".")+1));this.setMidiController(ch,cc)}if(this.midilearn&&this.id&&webAudioControlsWidgetManager&&webAudioControlsWidgetManager.midiLearnTable)for(var ml=webAudioControlsWidgetManager.midiLearnTable,i=0;i<ml.length;++i)if(ml[i].id==this.id){this.setMidiController(ml[i].cc.channel,ml[i].cc.cc);break}if(this.setupImage(),this.digits=0,this.step&&this.step<1)for(var n=this.step;n<1;n*=10)++this.digits;this._setValue(this._value),this.coltab=["#e00","#000","#000"],window.webAudioControlsWidgetManager&&window.webAudioControlsWidgetManager.addWidget(this)}},{key:"disconnectedCallback",value:function(){}},{key:"setupImage",value:function(){var t=this;if(this.kw=this._width||this._diameter||opt.knobWidth||opt.knobDiameter,this.kh=this._height||this._diameter||opt.knobHeight||opt.knobDiameter,!this.src){this.colors&&(this.coltab=this.colors.split(";")),this.coltab||(this.coltab=["#e00","#000","#000"]);for(var e='<svg xmlns="http://www.w3.org/2000/svg" width="64" height="6464" preserveAspectRatio="none">\n<defs>\n  <filter id="f1">\n    <feGaussianBlur in="SourceGraphic" stdDeviation="0.8" />\n  </filter>\n  <radialGradient id="g1" cx="50%" cy="10%">\n    <stop offset="0%" stop-color="'.concat(this.coltab[2],'"/>\n    <stop offset="100%" stop-color="').concat(this.coltab[1],'"/>\n  </radialGradient>\n  <linearGradient id="g2" x1="0%" y1="0%" x2="0%" y2="100%">\n    <stop offset="0%" stop-color="#000" stop-opacity="0"/>\n    <stop offset="100%" stop-color="#000" stop-opacity="0.3"/>\n  </linearGradient>\n  <g id="B">\n    <circle cx="32" cy="32" r="31" fill="#000"/>\n    <circle cx="32" cy="32" r="29" fill="url(#g1)"/>\n    <circle cx="32" cy="32" r="29" fill="url(#g2)"/>\n    <circle cx="32" cy="32" r="25" fill="').concat(this.coltab[1],'" filter="url(#f1)"/>\n    <circle cx="32" cy="32" r="29" fill="url(#g2)"/>\n  </g>\n  <line id="K" x1="32" y1="25" x2="32" y2="11" stroke-linecap="round" stroke-width="6" stroke="').concat(this.coltab[0],'"/>\n</defs>'),i=0;i<101;++i)e+='<use href="#B" y="'.concat(64*i,'"/><use href="#K" y="').concat(64*i,'" transform="rotate(').concat((270*i/101-135).toFixed(2),",32,").concat(64*i+32,')"/>');return e+="</svg>",this.elem.style.backgroundImage="url(data:image/svg+xml;base64,"+btoa(e)+")",null==this.kw&&(this.kw=64),null==this.kh&&(this.kh=64),this.elem.style.backgroundSize="".concat(this.kw,"px ").concat(101*this.kh,"px"),this.elem.style.width=this.kw+"px",this.elem.style.height=this.kh+"px",this.style.height=this.kh+"px",this.fireflag=!0,void this.redraw()}this.img=new Image,this.img.onload=function(){t.elem.style.backgroundImage="url("+t.src+")",null==t._sprites?t._sprites=t.img.height/t.img.width-1:t._sprites=+t._sprites,null==t.kw&&(t.kw=t.img.width),null==t.kh&&(t.kh=t.img.height/(t.sprites+1)),t.sprites?t.elem.style.backgroundSize="".concat(t.kw,"px ").concat(t.kh*(t.sprites+1),"px"):t.elem.style.backgroundSize="100% 100%",t.elem.style.width=t.kw+"px",t.elem.style.height=t.kh+"px",t.style.height=t.kh+"px",t.redraw()},this.img.src=this.src}},{key:"redraw",value:function(){var t;if(this.digits=0,this.step&&this.step<1)for(var e=this.step;e<1;e*=10)++this.digits;this.value<this.min&&(this.value=this.min),this.value>this.max&&(this.value=this.max),t=this.log?Math.log(this.value/this.min)/Math.log(this.max/this.min):(this.value-this.min)/(this.max-this.min);var i=this.elem.style,n=this.src?this.sprites:100;if(n>=1){var s=n*t|0;i.backgroundPosition="0px "+-s*this.kh+"px",i.transform="rotate(0deg)"}else{var a=270*(t-.5);i.backgroundPosition="0px 0px",i.transform="rotate("+a+"deg)"}}},{key:"_setValue",value:function _setValue(v){if(this.step&&(v=Math.round((v-this.min)/this.step)*this.step+this.min),this._value=Math.min(this.max,Math.max(this.min,v)),this._value!=this.oldvalue){if(this.fireflag=!0,this.oldvalue=this._value,this.conv){var x=this._value;this.convValue=eval(this.conv),"function"==typeof this.convValue&&(this.convValue=this.convValue(x))}else this.convValue=this._value;return"number"==typeof this.convValue&&(this.convValue=this.convValue.toFixed(this.digits)),this.redraw(),this.showtip(0),1}return 0}},{key:"setValue",value:function(t,e){this._setValue(t)&&e&&(this.sendEvent("input"),this.sendEvent("change"))}},{key:"keydown",value:function(t){var e=this.step;switch(0==e&&(_readOnlyError("delta"),e=1),t.key){case"ArrowUp":this.setValue(this.value+e,!0);break;case"ArrowDown":this.setValue(this.value-e,!0);break;default:return}t.preventDefault(),t.stopPropagation()}},{key:"wheel",value:function(t){if(this.enable){if(this.log){var e=Math.log(this.value/this.min)/Math.log(this.max/this.min),i=t.deltaY>0?-.01:.01;t.shiftKey||(i*=5),e+=i,this.setValue(this.min*Math.pow(this.max/this.min,e),!0)}else{var n=Math.max(this.step,.05*(this.max-this.min));t.shiftKey&&(n=this.step?this.step:1),n=t.deltaY>0?-n:n,this.setValue(+this.value+n,!0)}t.preventDefault(),t.stopPropagation()}}},{key:"pointerdown",value:function(t){var e=this;if(this.enable){var i=t;if(t.touches)i=t.changedTouches[0],this.identifier=i.identifier;else if(1!=i.buttons&&0!=i.button)return;this.elem.focus(),this.drag=1,this.showtip(0),this.oldvalue=this._value;var n=function(t){var i=t;if(t.touches)for(var n=0;n<t.touches.length;++n)if(t.touches[n].identifier==e.identifier){i=t.touches[n];break}e.lastShift!==i.shiftKey&&(e.lastShift=i.shiftKey,e.startPosX=i.pageX,e.startPosY=i.pageY,e.startVal=e.value);var s=(e.startPosY-i.pageY-e.startPosX+i.pageX)*e.sensitivity;if(e.log){var a=Math.log(e.startVal/e.min)/Math.log(e.max/e.min);a+=s/(128*(i.shiftKey?4:1)),a<0&&(a=0),a>1&&(a=1),e._setValue(e.min*Math.pow(e.max/e.min,a))}else e._setValue(e.min+((e.startVal+(e.max-e.min)*s/(128*(i.shiftKey?4:1))-e.min)/e.step|0)*e.step);return e.fireflag&&(e.sendEvent("input"),e.fireflag=!1),i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation(),!1},s=function t(i){if(i.touches)for(var s=0;;){if(i.changedTouches[s].identifier==e.identifier)break;if(++s>=i.changedTouches.length)return}e.drag=0,e.showtip(0),e.startPosX=e.startPosY=null,window.removeEventListener("mousemove",n),window.removeEventListener("touchmove",n,{passive:!1}),window.removeEventListener("mouseup",t),window.removeEventListener("touchend",t),window.removeEventListener("touchcancel",t),document.body.removeEventListener("touchstart",a,{passive:!1}),e.sendEvent("change")},a=function(t){t.preventDefault()};return i.ctrlKey||i.metaKey?this.setValue(this.defvalue,!0):(this.startPosX=i.pageX,this.startPosY=i.pageY,this.startVal=this.value,window.addEventListener("mousemove",n),window.addEventListener("touchmove",n,{passive:!1})),window.addEventListener("mouseup",s),window.addEventListener("touchend",s),window.addEventListener("touchcancel",s),document.body.addEventListener("touchstart",a,{passive:!1}),t.preventDefault(),t.stopPropagation(),!1}}}]),WebAudioKnob}(WebAudioControlsWidget))}catch(error){console.log("webaudio-knob already defined")}try{customElements.define("webaudio-slider",function(_WebAudioControlsWidg2){"use strict";_inherits(WebAudioSlider,_WebAudioControlsWidg2);var _super3=_createSuper(WebAudioSlider);function WebAudioSlider(){return _classCallCheck(this,WebAudioSlider),_super3.call(this)}return _createClass(WebAudioSlider,[{key:"connectedCallback",value:function connectedCallback(){var _this5=this,root;if(root=this.attachShadow?this.attachShadow({mode:"open"}):this,root.innerHTML="<style>\n".concat(this.basestyle,"\n:host{\n  display:inline-block;\n  position:relative;\n  margin:0;\n  padding:0;\n  font-family: sans-serif;\n  font-size: 11px;\n  cursor:pointer;\n}\n.webaudio-slider-body{\n  display:inline-block;\n  position:relative;\n  margin:0;\n  padding:0;\n  vertical-align:bottom;\n  white-space:pre;\n}\n.webaudio-slider-knob{\n  display:inline-block;\n  position:absolute;\n  margin:0;\n  padding:0;\n}\n</style>\n<div class='webaudio-slider-body' tabindex='1' touch-action='none'><div class='webaudio-slider-knob' touch-action='none'></div><div class='webaudioctrl-tooltip'></div><div part=\"label\" class=\"webaudioctrl-label\"><slot></slot></div></div>\n"),this.elem=root.childNodes[2],this.knob=this.elem.firstChild,this.ttframe=this.knob.nextSibling,this.label=this.ttframe.nextSibling,this.enable=this.getAttr("enable",1),this.tracking=this.getAttr("tracking","rel"),this._src=this.getAttr("src",opt.sliderSrc),Object.defineProperty(this,"src",{get:function(){return _this5._src},set:function(t){_this5._src=t,_this5.setupImage()}}),this._knobsrc=this.getAttr("knobsrc",opt.sliderKnobSrc),Object.defineProperty(this,"knobsrc",{get:function(){return _this5._knobsrc},set:function(t){_this5._knobsrc=t,_this5.setupImage()}}),this._value=this.getAttr("value",0),Object.defineProperty(this,"value",{get:function(){return _this5._value},set:function(t){_this5._value=t,_this5.redraw()}}),this.defvalue=this.getAttr("defvalue",this._value),this._min=this.getAttr("min",0),Object.defineProperty(this,"min",{get:function(){return _this5._min},set:function(t){_this5._min=t,_this5.redraw()}}),this._max=this.getAttr("max",100),Object.defineProperty(this,"max",{get:function(){return _this5._max},set:function(t){_this5._max=t,_this5.redraw()}}),this._step=this.getAttr("step",1),Object.defineProperty(this,"step",{get:function(){return _this5._step},set:function(t){_this5._step=t,_this5.redraw()}}),this._sprites=this.getAttr("sprites",0),Object.defineProperty(this,"sprites",{get:function(){return _this5._sprites},set:function(t){_this5._sprites=t,_this5.setupImage()}}),this._direction=this.getAttr("direction",null),Object.defineProperty(this,"direction",{get:function(){return _this5._direction},set:function(t){_this5._direction=t,_this5.setupImage()}}),this.log=this.getAttr("log",0),this._width=this.getAttr("width",opt.sliderWidth),Object.defineProperty(this,"width",{get:function(){return _this5._width},set:function(t){_this5._width=t,_this5.setupImage()}}),this._height=this.getAttr("height",opt.sliderHeight),Object.defineProperty(this,"height",{get:function(){return _this5._height},set:function(t){_this5._height=t,_this5.setupImage()}}),this._knobwidth=this.getAttr("knobwidth",opt.sliderKnobWidth),Object.defineProperty(this,"knobwidth",{get:function(){return _this5._knobwidth},set:function(t){_this5._knobwidth=t,_this5.setupImage()}}),this._knobheight=this.getAttr("knobheight",opt.sliderKnobHeight),Object.defineProperty(this,"knobheight",{get:function(){return _this5._knobheight},set:function(t){_this5._knobheight=t,_this5.setupImage()}}),this._ditchlength=this.getAttr("ditchlength",opt.sliderDitchlength),Object.defineProperty(this,"ditchlength",{get:function(){return _this5._ditchlength},set:function(t){_this5._ditchlength=t,_this5.setupImage()}}),this._colors=this.getAttr("colors",opt.sliderColors),Object.defineProperty(this,"colors",{get:function(){return _this5._colors},set:function(t){_this5._colors=t,_this5.setupImage()}}),this.outline=this.getAttr("outline",opt.outline),this.setupLabel(),this.sensitivity=this.getAttr("sensitivity",1),this.valuetip=this.getAttr("valuetip",opt.valuetip),this.tooltip=this.getAttr("tooltip",null),this.conv=this.getAttr("conv",null),this.conv){var x=this._value;this.convValue=eval(this.conv),"function"==typeof this.convValue&&(this.convValue=this.convValue(x))}else this.convValue=this._value;if(this.midilearn=this.getAttr("midilearn",opt.midilearn),this.midicc=this.getAttr("midicc",null),this.midiController={},this.midiMode="normal",this.midicc){var ch=parseInt(this.midicc.substring(0,this.midicc.lastIndexOf(".")))-1,cc=parseInt(this.midicc.substring(this.midicc.lastIndexOf(".")+1));this.setMidiController(ch,cc)}if(this.midilearn&&this.id&&webAudioControlsWidgetManager&&webAudioControlsWidgetManager.midiLearnTable)for(var ml=webAudioControlsWidgetManager.midiLearnTable,i=0;i<ml.length;++i)if(ml[i].id==this.id){this.setMidiController(ml[i].cc.channel,ml[i].cc.cc);break}if(this.setupImage(),this.digits=0,this.step&&this.step<1)for(var n=this.step;n<1;n*=10)++this.digits;this.fireflag=!0,window.webAudioControlsWidgetManager&&window.webAudioControlsWidgetManager.addWidget(this),this.elem.onclick=function(t){t.stopPropagation()}}},{key:"disconnectedCallback",value:function(){}},{key:"setupImage",value:function(){var t=this;if(this.coltab=this.colors.split(";"),this.bodyimg=new Image,this.knobimg=new Image,this.srcurl=null,null==this.src||""==this.src){this.sw=+this._width,this.sh=+this.height,"horz"==this._direction?(null==this._width&&(this.sw=128),null==this._height&&(this.sh=24)):"vert"==this._direction?(null==this._width&&(this.sw=24),null==this._height&&(this.sh=128)):(null==this._width&&(this.sw=128),null==this._height&&(this.sh=24));var e=.5*Math.min(this.sw,this.sh),i='<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(this.sw,'" height="').concat(this.sh,'" preserveAspectRatio="none">\n<defs>\n  <filter id="f1">\n    <feGaussianBlur in="SourceGraphic" stdDeviation="0.8" />\n  </filter>\n  <linearGradient id="g1" x1="0%" y1="0%" ').concat(this.sw>this.sh?'x2="0%" y2="100%"':'x2="100%" y2="0%"','>\n    <stop offset="0%" stop-color="#000" stop-opacity="0"/>\n    <stop offset="100%" stop-color="#000" stop-opacity="0.3"/>\n  </linearGradient>\n</defs>\n<rect x="1" y="1" rx="').concat(e,'" ry="').concat(e,'" width="').concat(this.sw-2,'" height="').concat(this.sh-2,'" fill="#000"/>\n<rect x="3" y="3" rx="').concat(e,'" ry="').concat(e,'" width="').concat(this.sw-6,'" height="').concat(this.sh-6,'" fill="').concat(this.coltab[1],'" filter="url(#f1)"/>\n<rect x="1" y="1" rx="').concat(e,'" ry="').concat(e,'" width="').concat(this.sw-2,'" height="').concat(this.sh-2,'" fill="url(#g1)"/>\n</svg>');this.srcurl="data:image/svg+xml;base64,"+btoa(i)}else this.srcurl=this.src;this.bodyimg.onload=function(){if(""!=t.src&&(t.elem.style.backgroundImage="url("+t.srcurl+")"),t.sw=+t._width,t.sh=+t._height,null==t._width&&(t.sw=t.bodyimg.width),null==t._height&&(t.sh=t.bodyimg.height),null==t.dr&&(t.sw>t.sh?t.dr="horz":t.dr="vert"),t.kw=+t._knobwidth,t.kh=+t._knobheight,null==t._knobsrc){null==t._knobwidth&&(t.kw=Math.min(t.sw,t.sh)),null==t._knobheight&&(t.kh=Math.min(t.sw,t.sh));var e=.5*Math.min(t.kw,t.kh),i=Math.max(1,t.kw-12),n=Math.max(1,t.kh-12),s='<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(t.kw,'" height="').concat(t.kh,'" preserveAspectRatio="none">\n<defs>\n  <filter id="f1">\n    <feGaussianBlur in="SourceGraphic" stdDeviation="0.8" />\n  </filter>\n  <linearGradient id="g1" x1="0%" y1="0%" x2="0%" y2="100%">\n    <stop offset="0%" stop-color="').concat(t.coltab[2],'"/>\n    <stop offset="50%" stop-color="').concat(t.coltab[0],'"/>\n    <stop offset="100%" stop-color="').concat(t.coltab[0],'" stop-opacity="0.5"/>\n  </linearGradient>\n  <linearGradient id="g2" x1="0%" y1="0%" x2="0%" y2="100%">\n    <stop offset="0%" stop-color="').concat(t.coltab[0],'"/>\n    <stop offset="100%" stop-color="').concat(t.coltab[0],'"/>\n  </linearGradient>\n  <linearGradient id="g3" x1="0%" y1="0%" x2="0%" y2="100%">\n    <stop offset="0%" stop-color="#000" stop-opacity="0"/>\n    <stop offset="100%" stop-color="#000" stop-opacity="0.3"/>\n  </linearGradient>\n</defs>\n<rect x="2" y="2" width="').concat(t.kw-4,'" height="').concat(t.kh-4,'" rx="').concat(e,'" ry="').concat(e,'" fill="#000"/>\n<rect x="3" y="3" width="').concat(t.kw-6,'" height="').concat(t.kh-6,'" rx="').concat(e,'" ry="').concat(e,'" fill="url(#g1)"/>\n<rect x="6" y="6" width="').concat(i,'" height="').concat(n,'" rx="').concat(e,'" ry="').concat(e,'" fill="url(#g2)" filter="url(#f1)"/>\n<rect x="3" y="3" width="').concat(t.kw-6,'" height="').concat(t.kh-6,'" rx="').concat(e,'" ry="').concat(e,'" fill="url(#g3)"/>\n</svg>');t.knobsrcurl="data:image/svg+xml;base64,"+btoa(s)}else t.knobsrcurl=t.knobsrc;t.knobimg.onload=function(){t.knob.style.backgroundImage="url("+t.knobsrcurl+")",null==t._knobwidth&&(t.kw=t.knobimg.width),null==t._knobheight&&(t.kh=t.knobimg.height),t.dlen=t.ditchlength,null==t.dlen&&("horz"==t.dr?t.dlen=t.sw-t.kw:t.dlen=t.sh-t.kh),t.knob.style.backgroundSize="100% 100%",t.knob.style.width=t.kw+"px",t.knob.style.height=t.kh+"px",t.elem.style.backgroundSize="100% 100%",t.elem.style.width=t.sw+"px",t.elem.style.height=t.sh+"px",t.redraw()},t.knobimg.src=t.knobsrcurl},this.bodyimg.src=this.srcurl}},{key:"redraw",value:function(){var t;if(this.digits=0,this.step&&this.step<1)for(var e=this.step;e<1;e*=10)++this.digits;this.value<this.min&&(this.value=this.min),this.value>this.max&&(this.value=this.max),t=this.log?Math.log(this.value/this.min)/Math.log(this.max/this.min):(this.value-this.min)/(this.max-this.min);var i=this.knob.style;"horz"==this.dr?(i.top=.5*(this.sh-this.kh)+"px",i.left=.5*(this.sw-this.kw-this.dlen)+t*this.dlen+"px",this.sensex=1,this.sensey=0):(i.left=.5*(this.sw-this.kw)+"px",i.top=.5*(this.sh-this.kh-this.dlen)+(1-t)*this.dlen+"px",this.sensex=0,this.sensey=1)}},{key:"_setValue",value:function _setValue(v){if(v=Math.round((v-this.min)/this.step)*this.step+this.min,this._value=Math.min(this.max,Math.max(this.min,v)),this._value!=this.oldvalue){if(this.oldvalue=this._value,this.fireflag=!0,this.conv){var x=this._value;this.convValue=eval(this.conv),"function"==typeof this.convValue&&(this.convValue=this.convValue(x))}else this.convValue=this._value;return"number"==typeof this.convValue&&(this.convValue=this.convValue.toFixed(this.digits)),this.redraw(),this.showtip(0),1}return 0}},{key:"setValue",value:function(t,e){this._setValue(t)&&e&&(this.sendEvent("input"),this.sendEvent("change"))}},{key:"keydown",value:function(t){var e=this.step;switch(0==e&&(_readOnlyError("delta"),e=1),t.key){case"ArrowUp":this.setValue(this.value+e,!0);break;case"ArrowDown":this.setValue(this.value-e,!0);break;default:return}t.preventDefault(),t.stopPropagation()}},{key:"wheel",value:function(t){if(this.enable){if(this.log){var e=Math.log(this.value/this.min)/Math.log(this.max/this.min),i=t.deltaY>0?-.01:.01;t.shiftKey||(i*=5),e+=i,this.setValue(this.min*Math.pow(this.max/this.min,e),!0)}else{var n=Math.max(this.step,.05*(this.max-this.min));t.shiftKey&&(n=this.step?this.step:1),n=t.deltaY>0?-n:n,this.setValue(+this.value+n,!0)}t.preventDefault(),t.stopPropagation()}}},{key:"pointerdown",value:function(t){var e=this;if(this.enable){var i=t;if(t.touches)i=t.changedTouches[0],this.identifier=i.identifier;else if(1!=i.buttons&&0!=i.button)return;this.elem.focus(),this.drag=1,this.showtip(0);var n=function(t){var i=t;if(t.touches)for(var n=0;n<t.touches.length;++n)if(t.touches[n].identifier==e.identifier){i=t.touches[n];break}if(e.lastShift!==i.shiftKey&&(e.lastShift=i.shiftKey,e.startPosX=i.pageX,e.startPosY=i.pageY,e.startVal=e.value),"abs"==e.tracking){var s,a=e.getBoundingClientRect();s="horz"==e.dr?Math.max(0,Math.min(1,(i.pageX-a.left-window.pageXOffset-.5*e.kw)/(e.width-e.kw))):1-Math.max(0,Math.min(1,(i.pageY-a.top-window.pageYOffset-.5*e.kh)/(e.height-e.kh))),e.log?e._setValue(e.min*Math.pow(e.max/e.min,s)):e._setValue(e.min+(e.max-e.min)*s)}else{var o=((e.startPosY-i.pageY)*e.sensey-(e.startPosX-i.pageX)*e.sensex)*e.sensitivity;if(e.log){var r=Math.log(e.startVal/e.min)/Math.log(e.max/e.min);r+=o/(128*(i.shiftKey?4:1)),r<0&&(r=0),r>1&&(r=1),e._setValue(e.min*Math.pow(e.max/e.min,r))}else e._setValue(e.min+((e.startVal+(e.max-e.min)*o/((i.shiftKey?4:1)*e.dlen)-e.min)/e.step|0)*e.step)}return e.fireflag&&(e.sendEvent("input"),e.fireflag=!1),i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation(),!1},s=function t(i){if(i.touches)for(var s=0;;){if(i.changedTouches[s].identifier==e.identifier)break;if(++s>=i.changedTouches.length)return}e.drag=0,e.showtip(0),e.startPosX=e.startPosY=null,window.removeEventListener("mousemove",n),window.removeEventListener("touchmove",n,{passive:!1}),window.removeEventListener("mouseup",t),window.removeEventListener("touchend",t),window.removeEventListener("touchcancel",t),document.body.removeEventListener("touchstart",a,{passive:!1}),e.sendEvent("change")},a=function(t){t.preventDefault()};return i.touches&&(i=i.touches[0]),i.ctrlKey||i.metaKey?this.setValue(this.defvalue,!0):(this.startPosX=i.pageX,this.startPosY=i.pageY,this.startVal=this.value,window.addEventListener("mousemove",n),window.addEventListener("touchmove",n,{passive:!1}),n(t)),window.addEventListener("mouseup",s),window.addEventListener("touchend",s),window.addEventListener("touchcancel",s),document.body.addEventListener("touchstart",a,{passive:!1}),i.preventDefault(),i.stopPropagation(),!1}}}]),WebAudioSlider}(WebAudioControlsWidget))}catch(error){console.log("webaudio-slider already defined")}try{customElements.define("webaudio-switch",function(t){"use strict";_inherits(i,t);var e=_createSuper(i);function i(){return _classCallCheck(this,i),e.call(this)}return _createClass(i,[{key:"connectedCallback",value:function(){var t,e=this;if(t=this.attachShadow?this.attachShadow({mode:"open"}):this,t.innerHTML="<style>\n".concat(this.basestyle,"\n:host{\n  display:inline-block;\n  position:relative;\n  margin:0;\n  padding:0;\n  font-family: sans-serif;\n  font-size: 11px;\n  cursor:pointer;\n}\n.webaudio-switch-body{\n  display:inline-block;\n  position:relative;\n  margin:0;\n  padding:0;\n  vertical-align:bottom;\n  white-space:pre;\n}\n.webaudioctrl-label{\n  position:absolute;\n  left:50%;\n  top:50%;\n}\n</style>\n<div class='webaudio-switch-body' tabindex='1' touch-action='none'><div class='webaudioctrl-tooltip'></div><div part=\"label\" class=\"webaudioctrl-label\"><slot></slot></div></div>\n"),this.elem=t.childNodes[2],this.ttframe=this.elem.firstChild,this.label=this.ttframe.nextSibling,this.enable=this.getAttr("enable",1),this._src=this.getAttr("src",null),Object.defineProperty(this,"src",{get:function(){return e._src},set:function(t){e._src=t,e.setupImage()}}),this._value=this.getAttr("value",0),Object.defineProperty(this,"value",{get:function(){return e._value},set:function(t){e._value=t,e.redraw()}}),this.defvalue=this.getAttr("defvalue",this._value),this.type=this.getAttr("type","toggle"),this.group=this.getAttr("group",""),this._width=this.getAttr("width",null),Object.defineProperty(this,"width",{get:function(){return e._width},set:function(t){e._width=t,e.setupImage()}}),this._height=this.getAttr("height",null),Object.defineProperty(this,"height",{get:function(){return e._height},set:function(t){e._height=t,e.setupImage()}}),this._diameter=this.getAttr("diameter",null),Object.defineProperty(this,"diameter",{get:function(){return e._diameter},set:function(t){e._diameter=t,e.setupImage()}}),this.invert=this.getAttr("invert",0),this._colors=this.getAttr("colors",opt.switchColors),Object.defineProperty(this,"colors",{get:function(){return e._colors},set:function(t){e._colors=t,e.setupImage()}}),this.outline=this.getAttr("outline",opt.outline),this.setupLabel(),this.valuetip=0,this.tooltip=this.getAttr("tooltip",null),this.midilearn=this.getAttr("midilearn",opt.midilearn),this.midicc=this.getAttr("midicc",null),this.midiController={},this.midiMode="normal",this.midicc){var i=parseInt(this.midicc.substring(0,this.midicc.lastIndexOf(".")))-1,n=parseInt(this.midicc.substring(this.midicc.lastIndexOf(".")+1));this.setMidiController(i,n)}if(this.midilearn&&this.id&&webAudioControlsWidgetManager&&webAudioControlsWidgetManager.midiLearnTable)for(var s=webAudioControlsWidgetManager.midiLearnTable,a=0;a<s.length;++a)if(s[a].id==this.id){this.setMidiController(s[a].cc.channel,s[a].cc.cc);break}if(this.setupImage(),this.digits=0,this.step&&this.step<1)for(var o=this.step;o<1;o*=10)++this.digits;window.webAudioControlsWidgetManager&&window.webAudioControlsWidgetManager.addWidget(this),this.elem.onclick=function(t){t.stopPropagation()}}},{key:"disconnectedCallback",value:function(){}},{key:"setupImage",value:function(){var t=this;if(this.coltab=this.colors.split(";"),this.kw=this._width||this._diameter||opt.switchWidth||opt.switchDiameter,this.kh=this._height||this._diameter||opt.switchHeight||opt.switchDiameter,this.img=new Image,this.srcurl=null,null==this.src||""==this.src){null==this.kw&&(this.kw=32),null==this.kh&&(this.kh=32);var e=Math.min(this.kw,this.kh),i=this.kw,n=this.kh,s='<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(this.kw,'" height="').concat(2*this.kh,'" preserveAspectRatio="none">\n<defs>\n<linearGradient id="g1" x1="0%" y1="0%" x2="0%" y2="100%">\n  <stop offset="0%" stop-color="#000" stop-opacity="0"/>\n  <stop offset="100%" stop-color="#000" stop-opacity="0.2"/>\n</linearGradient>\n<radialGradient id="g2" cx="50%" cy="30%">\n    <stop offset="0%" stop-color="').concat(this.coltab[2],'"/>\n    <stop offset="100%" stop-color="').concat(this.coltab[0],'"/>\n  </radialGradient>\n  <filter id="f1">\n    <feGaussianBlur in="SourceGraphic" stdDeviation=".4" />\n  </filter>\n</defs>\n<g id="p1">\n  <rect x="').concat(.075*i,'" y="').concat(.075*n,'" width="').concat(.85*i,'" height="').concat(.85*n,'" rx="').concat(.1*e,'" ry="').concat(.1*e,'" fill="#000"/>\n  <rect x="').concat(.1*i,'" y="').concat(.1*n,'" width="').concat(.8*i,'" height="').concat(.8*n,'" rx="').concat(.1*e,'" ry="').concat(.1*e,'" fill="').concat(this.coltab[1],'"/>\n</g>\n<g id="p2">\n  <circle cx="').concat(.5*i,'" cy="').concat(.5*n,'" r="').concat(.35*e,'" stroke="#000" stroke-width="').concat(.03*e,'" fill="').concat(this.coltab[0],'" filter="url(#f1)"/>\n  <circle cx="').concat(.5*i,'" cy="').concat(.5*n,'" r="').concat(.27*e,'" stroke="#000" stroke-width="').concat(.03*e,'" fill="#000" filter="url(#f1)"/>\n  <rect x="').concat(.075*i,'" y="').concat(.075*n,'" width="').concat(.85*i,'" height="').concat(.85*n,'" rx="').concat(.1*e,'" ry="').concat(.1*e,'" fill="url(#g1)"/>\n</g>\n<use href="#p1" y="').concat(n,'"/>\n<use href="#p2" y="').concat(n,'"/>\n<circle cx="').concat(.5*i,'" cy="').concat(1.5*n,'" r="').concat(.25*e,'" fill="url(#g2)" filter="url(#f1)"/>\n<circle cx="').concat(.5*i,'" cy="').concat(1.5*n,'" r="').concat(.25*e,'" fill="url(#g1)"/>\n</svg>');this.srcurl="data:image/svg+xml;base64,"+btoa(s)}else this.srcurl=this.src;this.img.onload=function(){null==t.kw&&(t.kw=t.img.width),null==t.kh&&(t.kh=.5*t.img.height),t.elem.style.backgroundImage="url("+t.srcurl+")",t.elem.style.backgroundSize="100% 200%",t.elem.style.width=t.kw+"px",t.elem.style.height=t.kh+"px",t.redraw()},this.img.src=this.srcurl}},{key:"redraw",value:function(){var t=this.elem.style;this.value^this.invert?t.backgroundPosition="0px -100%":t.backgroundPosition="0px 0px"}},{key:"setValue",value:function(t,e){this.value=t,this.checked=!!t,this.value!=this.oldvalue&&(this.redraw(),this.showtip(0),e&&(this.sendEvent("input"),this.sendEvent("change")),this.oldvalue=this.value)}},{key:"pointerdown",value:function(t){var e=this;if(this.enable){var i=t;if(t.touches)i=t.changedTouches[0],this.identifier=i.identifier;else if(1!=i.buttons&&0!=i.button)return;this.elem.focus(),this.drag=1,this.showtip(0);var n=function(t){return t.preventDefault(),t.stopPropagation(),!1},s=function t(i){e.drag=0,e.showtip(0),window.removeEventListener("mousemove",n),window.removeEventListener("touchmove",n,{passive:!1}),window.removeEventListener("mouseup",t),window.removeEventListener("touchend",t),window.removeEventListener("touchcancel",t),document.body.removeEventListener("touchstart",a,{passive:!1}),"kick"==e.type&&(e.value=0,e.checked=!1,e.redraw(),e.sendEvent("change")),e.sendEvent("click"),i.preventDefault(),i.stopPropagation()},a=function(t){t.preventDefault()};switch(this.type){case"kick":this.setValue(1),this.sendEvent("change");break;case"toggle":i.ctrlKey||i.metaKey?this.value=defvalue:this.value=1-this.value,this.checked=!!this.value,this.sendEvent("change");break;case"radio":for(var o=document.querySelectorAll("webaudio-switch[type='radio'][group='"+this.group+"']"),r=0;r<o.length;++r)o[r]==this?o[r].setValue(1):o[r].setValue(0);this.sendEvent("change");break}return window.addEventListener("mouseup",s),window.addEventListener("touchend",s),window.addEventListener("touchcancel",s),document.body.addEventListener("touchstart",a,{passive:!1}),this.redraw(),t.preventDefault(),t.stopPropagation(),!1}}}]),i}(WebAudioControlsWidget))}catch(error){console.log("webaudio-switch already defined")}try{customElements.define("webaudio-param",function(_WebAudioControlsWidg4){"use strict";_inherits(WebAudioParam,_WebAudioControlsWidg4);var _super5=_createSuper(WebAudioParam);function WebAudioParam(){var t;return _classCallCheck(this,WebAudioParam),t=_super5.call(this),t.addEventListener("keydown",t.keydown),t.addEventListener("mousedown",t.pointerdown,{passive:!1}),t.addEventListener("touchstart",t.pointerdown,{passive:!1}),t.addEventListener("wheel",t.wheel),t.addEventListener("mouseover",t.pointerover),t.addEventListener("mouseout",t.pointerout),t.addEventListener("contextmenu",t.contextMenu),t}return _createClass(WebAudioParam,[{key:"connectedCallback",value:function connectedCallback(){var _this12=this,root;if(root=this.attachShadow?this.attachShadow({mode:"open"}):this,root.innerHTML="<style>\n".concat(this.basestyle,"\n:host{\n  display:inline-block;\n  user-select:none;\n  margin:0;\n  padding:0;\n  font-family: sans-serif;\n  font-size: 8px;\n  cursor:pointer;\n  position:relative;\n  vertical-align:baseline;\n}\n.webaudio-param-body{\n  display:inline-block;\n  position:relative;\n  text-align:center;\n  background:none;\n  margin:0;\n  padding:0;\n  font-family:sans-serif;\n  font-size:11px;\n  vertical-align:bottom;\n  border:none;\n}\n</style>\n<input class='webaudio-param-body' value='0' tabindex='1' touch-action='none'/><div class='webaudioctrl-tooltip'></div>\n"),this.elem=root.childNodes[2],this.ttframe=root.childNodes[3],this.enable=this.getAttr("enable",1),this._value=this.getAttr("value",0),Object.defineProperty(this,"value",{get:function(){return _this12._value},set:function(t){_this12._value=t,_this12.redraw()}}),this.defvalue=this.getAttr("defvalue",0),this._fontsize=this.getAttr("fontsize",9),Object.defineProperty(this,"fontsize",{get:function(){return _this12._fontsize},set:function(t){_this12._fontsize=t,_this12.setupImage()}}),this._src=this.getAttr("src",opt.paramSrc),Object.defineProperty(this,"src",{get:function(){return _this12._src},set:function(t){_this12._src=t,_this12.setupImage()}}),this.link=this.getAttr("link",""),this._width=this.getAttr("width",opt.paramWidth),Object.defineProperty(this,"width",{get:function(){return _this12._width},set:function(t){_this12._width=t,_this12.setupImage()}}),this._height=this.getAttr("height",opt.paramHeight),Object.defineProperty(this,"height",{get:function(){return _this12._height},set:function(t){_this12._height=t,_this12.setupImage()}}),this._colors=this.getAttr("colors",opt.paramColors),Object.defineProperty(this,"colors",{get:function(){return _this12._colors},set:function(t){_this12._colors=t,_this12.setupImage()}}),this.outline=this.getAttr("outline",opt.outline),this.rconv=this.getAttr("rconv",null),this.midiController={},this.midiMode="normal",this.currentLink=null,this.midicc){var ch=parseInt(this.midicc.substring(0,this.midicc.lastIndexOf(".")))-1,cc=parseInt(this.midicc.substring(this.midicc.lastIndexOf(".")+1));this.setMidiController(ch,cc)}this.setupImage(),window.webAudioControlsWidgetManager&&window.webAudioControlsWidgetManager.addWidget(this),this.fromLink=function(t){_this12.setValue(t.target.convValue.toFixed(t.target.digits))}.bind(this),this.elem.onchange=function(){if(!_this12.currentLink.target.conv||_this12.currentLink.target.conv&&_this12.rconv){var val=_this12.value=_this12.elem.value;if(_this12.rconv){var x=+_this12.elem.value;val=eval(_this12.rconv)}_this12.currentLink&&_this12.currentLink.target.setValue(val,!0)}}}},{key:"disconnectedCallback",value:function(){}},{key:"setupImage",value:function(){var t=this;this.imgloaded=function(){""!=t.src&&null!=t.src?(t.elem.style.backgroundImage="url("+t.src+")",t.elem.style.backgroundSize="100% 100%",null==t._width&&(t._width=t.img.width),null==t._height&&(t._height=t.img.height)):(null==t._width&&(t._width=32),null==t._height&&(t._height=20)),t.elem.style.width=t._width+"px",t.elem.style.height=t._height+"px",t.elem.style.fontSize=t.fontsize+"px";var e=document.getElementById(t.link);e&&"undefined"!=typeof e.value&&("number"==typeof e.convValue?t.setValue(e.convValue.toFixed(e.digits)):t.setValue(e.convValue),t.currentLink&&t.currentLink.removeEventListener("input",t.currentLink.func),t.currentLink={target:e,func:function(i){"number"==typeof e.convValue?t.setValue(e.convValue.toFixed(e.digits)):t.setValue(e.convValue)}},t.currentLink.target.addEventListener("input",t.currentLink.func)),t.redraw()},this.coltab=this.colors.split(";"),this.elem.style.color=this.coltab[0],this.img=new Image,this.img.onload=this.imgloaded.bind(),null==this.src?(this.elem.style.backgroundColor=this.coltab[1],this.imgloaded()):""==this.src?(this.elem.style.background="none",this.imgloaded()):this.img.src=this.src}},{key:"redraw",value:function(){this.elem.value=this.value}},{key:"setValue",value:function(t,e){if(this.value=t,this.value!=this.oldvalue){if(this.redraw(),this.showtip(0),e){var i=document.createEvent("HTMLEvents");i.initEvent("change",!1,!0),this.dispatchEvent(i)}this.oldvalue=this.value}}},{key:"pointerdown",value:function(t){if(this.enable){var e=t;if(t.touches)e=t.touches[0];else if(1!=e.buttons&&0!=e.button)return;this.elem.focus(),this.redraw()}}}]),WebAudioParam}(WebAudioControlsWidget))}catch(error){console.log("webaudio-param already defined")}try{customElements.define("webaudio-keyboard",function(t){"use strict";_inherits(i,t);var e=_createSuper(i);function i(){return _classCallCheck(this,i),e.call(this)}return _createClass(i,[{key:"connectedCallback",value:function(){var t,e=this;if(t=this.attachShadow?this.attachShadow({mode:"open"}):this,t.innerHTML="<style>\n".concat(this.basestyle,"\n:host{\n  display:inline-block;\n  position:relative;\n  margin:0;\n  padding:0;\n  font-family: sans-serif;\n  font-size: 11px;\n}\n.webaudio-keyboard-body{\n  display:inline-block;\n  margin:0;\n  padding:0;\n  vertical-align:bottom;\n}\n</style>\n<canvas class='webaudio-keyboard-body' tabindex='1' touch-action='none'></canvas><div class='webauioctrl-tooltip'></div>\n"),this.elem=this.cv=t.childNodes[2],this.ttframe=t.childNodes[3],this.ctx=this.cv.getContext("2d"),this._values=[],this.enable=this.getAttr("enable",1),this._width=this.getAttr("width",480),Object.defineProperty(this,"width",{get:function(){return e._width},set:function(t){e._width=t,e.setupImage()}}),this._height=this.getAttr("height",128),Object.defineProperty(this,"height",{get:function(){return e._height},set:function(t){e._height=t,e.setupImage()}}),this._min=this.getAttr("min",0),Object.defineProperty(this,"min",{get:function(){return e._min},set:function(t){e._min=+t,e.redraw()}}),this._keys=this.getAttr("keys",25),Object.defineProperty(this,"keys",{get:function(){return e._keys},set:function(t){e._keys=+t,e.setupImage()}}),this._colors=this.getAttr("colors","#222;#eee;#ccc;#333;#000;#e88;#c44;#c33;#800"),Object.defineProperty(this,"colors",{get:function(){return e._colors},set:function(t){e._colors=t,e.setupImage()}}),this.outline=this.getAttr("outline",opt.outline),this.midilearn=this.getAttr("midilearn",0),this.midicc=this.getAttr("midicc",null),this.press=0,this.keycodes1=[90,83,88,68,67,86,71,66,72,78,74,77,188,76,190,187,191,226],this.keycodes2=[81,50,87,51,69,82,53,84,54,89,55,85,73,57,79,48,80,192,222,219],this.addEventListener("keyup",this.keyup),this.midiController={},this.midiMode="normal",this.midicc){var i=parseInt(this.midicc.substring(0,this.midicc.lastIndexOf(".")))-1,n=parseInt(this.midicc.substring(this.midicc.lastIndexOf(".")+1));this.setMidiController(i,n)}if(this.setupImage(),this.digits=0,this.step&&this.step<1)for(var s=this.step;s<1;s*=10)++this.digits;window.webAudioControlsWidgetManager&&window.webAudioControlsWidgetManager.addWidget(this)}},{key:"disconnectedCallback",value:function(){}},{key:"setupImage",value:function(){this.cv.style.width=this.width+"px",this.cv.style.height=this.height+"px",this.bheight=.55*this.height,this.kp=[0,7/12,1,1.75,2,3,3.5,4,56/12,5,70/12,6],this.kf=[0,1,0,1,0,0,1,0,1,0,1,0],this.ko=[0,0,14/12-1,0,28/12-2,35/12-3,0,49/12-4,0,.25,0,77/12-6],this.kn=[0,2,4,5,7,9,11],this.coltab=this.colors.split(";"),this.cv.width=this.width,this.cv.height=this.height,this.cv.style.width=this.width+"px",this.cv.style.height=this.height+"px",this.style.height=this.height+"px",this.cv.style.outline=this.outline?"":"none",this.bheight=.55*this.height,this.max=this.min+this.keys-1,this.dispvalues=[],this.valuesold=[],this.kf[this.min%12]&&--this.min,this.kf[this.max%12]&&++this.max,this.redraw()}},{key:"redraw",value:function(){function t(t,e,i,n,s,a,o,r){if(r){var l=t.createLinearGradient(e,i,e+n,i);l.addColorStop(0,o),l.addColorStop(1,r),t.fillStyle=l}else t.fillStyle=o;t.beginPath(),t.moveTo(e,i),t.lineTo(e+n,i),t.lineTo(e+n,i+s-a),t.quadraticCurveTo(e+n,i+s,e+n-a,i+s),t.lineTo(e+a,i+s),t.quadraticCurveTo(e,i+s,e,i+s-a),t.lineTo(e,i),t.fill()}this.ctx.fillStyle=this.coltab[0],this.ctx.fillRect(0,0,this.width,this.height);var e=7*(this.min/12|0)+this.kp[this.min%12],i=7*(this.max/12|0)+this.kp[this.max%12],n=i-e;this.wwidth=(this.width-1)/(n+1),this.bwidth=7*this.wwidth/12;for(var s=this.bheight,a=Math.min(8,.2*this.wwidth),o=this.min,r=0;o<=this.max;++o)if(0==this.kf[o%12]){var l=this.wwidth*r+++1;this.dispvalues.indexOf(o)>=0?t(this.ctx,l,1,this.wwidth-1,this.height-2,a,this.coltab[5],this.coltab[6]):t(this.ctx,l,1,this.wwidth-1,this.height-2,a,this.coltab[1],this.coltab[2])}a=Math.min(8,.3*this.bwidth);for(var c=this.min;c<this.max;++c)if(this.kf[c%12]){var d=this.wwidth*this.ko[this.min%12]+this.bwidth*(c-this.min)+1;this.dispvalues.indexOf(c)>=0?t(this.ctx,d,1,this.bwidth,s,a,this.coltab[7],this.coltab[8]):t(this.ctx,d,1,this.bwidth,s,a,this.coltab[3],this.coltab[4]),this.ctx.strokeStyle=this.coltab[0],this.ctx.stroke()}}},{key:"_setValue",value:function(t){return this.step&&(t=Math.round((t-this.min)/this.step)*this.step+this.min),this._value=Math.min(this.max,Math.max(this.min,t)),this._value!=this.oldvalue?(this.oldvalue=this._value,this.redraw(),this.showtip(0),1):0}},{key:"setValue",value:function(t,e){this._setValue(t)&&e&&(this.sendEvent("input"),this.sendEvent("change"))}},{key:"wheel",value:function(t){}},{key:"keydown",value:function(t){var e=12*Math.floor((this.min+11)/12),i=this.keycodes1.indexOf(t.keyCode);i<0&&(i=this.keycodes2.indexOf(t.keyCode),i>=0&&(i+=12)),i>=0&&(i+=e,this.currentKey!=i&&(this.currentKey=i,this.sendEventFromKey(1,i),this.setNote(1,i)))}},{key:"keyup",value:function(t){var e=12*Math.floor((this.min+11)/12),i=this.keycodes1.indexOf(t.keyCode);i<0&&(i=this.keycodes2.indexOf(t.keyCode),i>=0&&(i+=12)),i>=0&&(i+=e,this.currentKey=-1,this.sendEventFromKey(0,i),this.setNote(0,i))}},{key:"pointerdown",value:function(t){var e=this;this.cv.focus(),this.enable&&++this.press;var i=function(t){if(e.enable){var i,n=e.getBoundingClientRect(),s=[];i=t.touches?t.targetTouches:e.press?[t]:[],i.length>0&&(e.drag=1);for(var a=0;a<i.length;++a){var o=i[a].clientX-n.left,r=i[a].clientY-n.top,l=void 0,c=void 0,d=void 0;r>=0&&r<e.height&&(r<e.bheight?(l=o-e.wwidth*e.ko[e.min%12],c=e.min+(l/e.bwidth|0)):(c=o/e.wwidth|0,d=e.kp[e.min%12],c+=d,c=e.min+12*(c/7|0)+e.kn[c%7]-e.kn[d%7]),c>=e.min&&c<=e.max&&s.push(c))}s.sort(),e.values=s,e.sendevent(),e.redraw()}},n=function t(n){e.enable&&(n.touches?e.press=n.touches.length:e.press=0,i(n),e.sendevent(),0==e.press&&(window.removeEventListener("mousemove",i),window.removeEventListener("touchmove",i,{passive:!1}),window.removeEventListener("mouseup",t),window.removeEventListener("touchend",t),window.removeEventListener("touchcancel",t),document.body.removeEventListener("touchstart",s,{passive:!1})),e.redraw()),e.drag=0,n.preventDefault()},s=function(t){t.preventDefault()};window.addEventListener("mousemove",i),window.addEventListener("touchmove",i,{passive:!1}),window.addEventListener("mouseup",n),window.addEventListener("touchend",n),window.addEventListener("touchcancel",n),document.body.addEventListener("touchstart",s,{passive:!1}),i(t),t.preventDefault(),t.stopPropagation()}},{key:"sendEventFromKey",value:function(t,e){var i=document.createEvent("HTMLEvents");i.initEvent("change",!0,!0),i.note=[t,e],this.dispatchEvent(i)}},{key:"sendevent",value:function(){for(var t=[],e=0,i=this.valuesold.length;e<i;++e)this.values.indexOf(this.valuesold[e])<0&&t.push([0,this.valuesold[e]]);for(var n=0,s=this.values.length;n<s;++n)this.valuesold.indexOf(this.values[n])<0&&t.push([1,this.values[n]]);if(t.length){this.valuesold=this.values;for(var a=0;a<t.length;++a){this.setdispvalues(t[a][0],t[a][1]);var o=document.createEvent("HTMLEvents");o.initEvent("change",!0,!0),o.note=t[a],this.dispatchEvent(o)}}}},{key:"setdispvalues",value:function(t,e){var i=this.dispvalues.indexOf(e);t?i<0&&this.dispvalues.push(e):i>=0&&this.dispvalues.splice(i,1)}},{key:"setNote",value:function(t,e,i,n){var s=this,a=i&&n-i.currentTime;a>0?setTimeout((function(){s.setNote(t,e)}),1e3*a):(this.setdispvalues(t,e),this.redraw())}}]),i}(WebAudioControlsWidget))}catch(error){console.log("webaudio-keyboard already defined")}var WebAudioControlsWidgetManager=function(){"use strict";function t(){_classCallCheck(this,t),this.midiAccess=null,this.listOfWidgets=[],this.listOfExternalMidiListeners=[],this.updateWidgets(),opt.preserveMidiLearn?this.midiLearnTable=JSON.parse(localStorage.getItem("WebAudioControlsMidiLearn")):this.midiLearnTable=null,this.initWebAudioControls()}return _createClass(t,[{key:"addWidget",value:function(t){this.listOfWidgets.push(t)}},{key:"updateWidgets",value:function(){}},{key:"initWebAudioControls",value:function(){var t=this;navigator.requestMIDIAccess&&navigator.requestMIDIAccess().then((function(e){t.midiAccess=e,t.enableInputs()}),(function(t){console.log("MIDI not initialized - error encountered:"+t.code)}))}},{key:"enableInputs",value:function(){var t=this.midiAccess.inputs.values();console.log("Found "+this.midiAccess.inputs.size+" MIDI input(s)");for(var e=t.next();e&&!e.done;e=t.next())console.log("Connected input: "+e.value.name),e.value.onmidimessage=this.handleMIDIMessage.bind(this)}},{key:"midiConnectionStateChange",value:function(t){console.log("connection: "+t.port.name+" "+t.port.connection+" "+t.port.state),enableInputs()}},{key:"onMIDIStarted",value:function(t){this.midiAccess=t,t.onstatechange=this.midiConnectionStateChange,enableInputs(t)}},{key:"addMidiListener",value:function(t){this.listOfExternalMidiListeners.push(t)}},{key:"getCurrentConfigAsJSON",value:function(){return currentConfig.stringify()}},{key:"handleMIDIMessage",value:function(t){if(this.listOfExternalMidiListeners.forEach((function(e){e(t)})),!(240==(240&t.data[0])||176==(240&t.data[0])&&t.data[1]>=120)){var e,i=_createForOfIteratorHelper(this.listOfWidgets);try{for(i.s();!(e=i.n()).done;){var n=e.value;n.processMidiEvent&&n.processMidiEvent(t)}}catch(s){i.e(s)}finally{i.f()}opt.mididump&&console.log(t.data)}}},{key:"contextMenuOpen",value:function(t,e){if(this.midiAccess){var i=document.getElementById("webaudioctrl-context-menu");i.style.left=t.pageX+"px",i.style.top=t.pageY+"px",i.knob=e,i.classList.add("active"),i.knob.focus(),i.knob.addEventListener("keydown",this.contextMenuCloseByKey.bind(this))}}},{key:"contextMenuCloseByKey",value:function(t){27==t.keyCode&&this.contextMenuClose()}},{key:"contextMenuClose",value:function(){var t=document.getElementById("webaudioctrl-context-menu");t.knob.removeEventListener("keydown",this.contextMenuCloseByKey),t.classList.remove("active");var e=document.getElementById("webaudioctrl-context-menu-learn");e.innerHTML="Learn",t.knob.midiMode="normal"}},{key:"contextMenuLearn",value:function(){var t=document.getElementById("webaudioctrl-context-menu"),e=document.getElementById("webaudioctrl-context-menu-learn");e.innerHTML="Listening...",t.knob.midiMode="learn"}},{key:"contextMenuClear",value:function(t){var e=document.getElementById("webaudioctrl-context-menu");e.knob.midiController={},this.contextMenuClose()}},{key:"preserveMidiLearn",value:function(){if(opt.preserveMidiLearn){var t,e=[],i=_createForOfIteratorHelper(this.listOfWidgets);try{for(i.s();!(t=i.n()).done;){var n=t.value;n.id&&e.push({id:n.id,cc:n.midiController})}}catch(a){i.e(a)}finally{i.f()}var s=JSON.stringify(e);localStorage.setItem("WebAudioControlsMidiLearn",s)}}}]),t}();(window.UseWebAudioControlsMidi||opt.useMidi)&&(window.webAudioControlsWidgetManager=window.webAudioControlsMidiManager=new WebAudioControlsWidgetManager)}},"065a":function(t,e,i){},"0880":function(t,e,i){},1424:function(t,e,i){t.exports=i.p+"img/maschine-bipolar.7edb8f79.png"},"161a":function(t,e,i){"use strict";i("fc57")},2885:function(t,e,i){"use strict";i("0880")},"2c81":function(t,e,i){},"2f7d":function(t,e,i){t.exports=i.p+"img/LOGO_TEXTE_blanc.dd967565.png"},"304b":function(t,e,i){"use strict";i("e1ea")},3625:function(t,e,i){t.exports=i.p+"img/bg.31ec11d4.jpg"},"3ce0":function(t,e,i){},4776:function(t,e,i){},"48e8":function(t,e,i){"use strict";i("8f8a")},"4ba6":function(t,e,i){t.exports=i.p+"media/hats.c855f3bd.wav"},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("7a23"),s=Object(n["g"])("div",{id:"nav"},null,-1);function a(t,e){var i=Object(n["w"])("router-view");return Object(n["p"])(),Object(n["d"])("body",null,[s,Object(n["g"])(i)])}i("ec3f");const o={};o.render=a;var r=o,l=i("6c02"),c=(i("b0c0"),Object(n["E"])("data-v-2ce6095b"));Object(n["s"])("data-v-2ce6095b");var d={class:"home",style:{"padding-top":"50px"}},u={class:"channels mx-3"},h=Object(n["g"])("span",{class:"channels-label"},"CHANNELS",-1),m={class:"channels-body",id:"channelSample"},p={class:"channels-bodyWithoutButton",style:{"margin-top":"1em"}},b=Object(n["g"])("p",{style:{margin:"10px 15px 0 0"}}," ADD CHANNEL",-1),g=Object(n["g"])("svg",{viewBox:"0 -47 354.98667 354",width:"32",height:"32",xmlns:"http://www.w3.org/2000/svg",fill:"white",style:{"margin-top":"3px"}},[Object(n["g"])("path",{d:"m6.828125 102.894531c-3.773437 0-6.828125 3.054688-6.828125 6.824219v34.132812c0 3.773438 3.054688 6.828126 6.828125 6.828126 3.769531 0 \n                       6.824219-3.054688 6.824219-6.828126v-34.132812c0-3.769531-3.054688-6.824219-6.824219-6.824219zm0 0"}),Object(n["g"])("path",{d:"m40.984375 74.941406c-3.769531 0-6.828125 3.058594-6.828125 6.828125v94.515625c0 3.773438 3.058594 6.828125 6.828125 6.828125s6.828125-3.054687\n                       6.828125-6.828125v-94.515625c0-3.769531-3.058594-6.828125-6.828125-6.828125zm0 0"}),Object(n["g"])("path",{d:"m75.09375 27.800781c-3.769531 0-6.828125 3.054688-6.828125 6.824219v191.148438c0 3.769531 3.058594 6.828124 6.828125 6.828124s6.828125-3.058593\n                       6.828125-6.828124v-191.148438c0-3.769531-3.058594-6.824219-6.828125-6.824219zm0 0"}),Object(n["g"])("path",{d:"m109.226562 61.933594c-3.769531 0-6.828124 3.054687-6.828124 6.828125v116.050781c0 3.769531 3.058593 6.828125 6.828124 6.828125 3.769532 0\n                       6.828126-3.058594 6.828126-6.828125v-116.050781c0-3.773438-3.058594-6.828125-6.828126-6.828125zm0 0"}),Object(n["g"])("path",{d:"m212.292969 45.40625c-3.769531 0-6.824219 3.054688-6.824219 6.828125v153.589844c0 3.769531 3.054688 6.824219 6.824219 6.824219s6.828125-3.054688\n                       6.828125-6.824219v-153.589844c0-3.773437-3.058594-6.828125-6.828125-6.828125zm0 0"}),Object(n["g"])("path",{d:"m279.894531 55.105469c-3.769531 0-6.828125 3.058593-6.828125 6.828125v136.53125c0 3.773437 3.058594 6.828125 6.828125 6.828125s6.824219-3.054688 \n                       6.824219-6.828125v-136.53125c0-3.769532-3.054688-6.828125-6.824219-6.828125zm0 0"}),Object(n["g"])("path",{d:"m314.027344 89.238281c-3.769532 0-6.828125 3.058594-6.828125 6.828125v68.265625c0 3.769531 3.058593 6.828125 6.828125 6.828125 3.769531 0 \n                       6.824218-3.058594 6.824218-6.828125v-68.265625c0-3.769531-3.054687-6.828125-6.824218-6.828125zm0 0"}),Object(n["g"])("path",{d:"m245.761719.492188c-3.773438 0-6.828125 3.058593-6.828125 6.828124v245.757813c0 3.773437 3.054687 6.828125 6.828125 6.828125 3.769531 0 \n                       6.824219-3.054688 6.824219-6.828125v-245.757813c0-3.769531-3.054688-6.828124-6.824219-6.828124zm0 0"}),Object(n["g"])("path",{d:"m143.359375 109.71875c-3.769531 0-6.824219 3.058594-6.824219 6.828125v27.304687c0 3.773438 3.054688 6.828126 6.824219 6.828126s6.828125-3.054688 \n                       6.828125-6.828126v-27.304687c0-3.769531-3.058594-6.828125-6.828125-6.828125zm0 0"}),Object(n["g"])("path",{d:"m348.160156 107.433594c-3.769531 0-6.828125 3.054687-6.828125 6.824218v29.539063c0 3.769531 3.058594 6.828125 6.828125 6.828125 3.769532 0\n                       6.828125-3.058594 6.828125-6.828125v-29.539063c0-3.769531-3.058593-6.824218-6.828125-6.824218zm0 0"}),Object(n["g"])("path",{d:"m176.851562 94.417969c-3.773437 0-6.828124 3.054687-6.828124 6.824219v55.570312c0 3.769531 3.054687 6.828125 6.828124 6.828125 3.769532 0 \n                       6.824219-3.058594 6.824219-6.828125v-55.570312c0-3.769532-3.054687-6.824219-6.824219-6.824219zm0 0"})],-1);Object(n["q"])();var f=c((function(t,e,s,a,o,r){var l=Object(n["w"])("Master"),c=Object(n["w"])("Timebar"),f=Object(n["w"])("Channel");return Object(n["p"])(),Object(n["d"])("div",d,[Object(n["g"])("img",{src:i("3625")},null,8,["src"]),Object(n["g"])(l),Object(n["g"])("div",null,[Object(n["g"])("div",u,[h,Object(n["g"])("div",m,[Object(n["g"])(c),Object(n["g"])("div",p,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(r.samplesChosen,(function(t){return Object(n["p"])(),Object(n["d"])(f,{key:t.id,id:t.id,name:t.name,src:t.src,class:"channel-draggable"},null,8,["id","name","src"])})),128))]),Object(n["g"])("button",{type:"button",class:"btn btn-secondary shadow-none ms-1 buttonAddChannel",style:{"background-color":"#888","margin-top":"8px",color:"ghostwhite",display:"flex"},onClick:e[1]||(e[1]=function(){return r.addChannel&&r.addChannel.apply(r,arguments)})},[b,g])])])])])})),v=i("1da1"),y=(i("d3b7"),i("96cf"),Object(n["E"])("data-v-5823cb13"));Object(n["s"])("data-v-5823cb13");var w={class:"mx-3 mb-3 mt-5 master-control"},x={style:{display:"flex"}},k={style:{display:"flex","flex-direction":"column"}},_=Object(n["g"])("div",null,[Object(n["g"])("p",{style:{color:"ghostwhite","margin-top":"-85px","margin-left":"20px","font-size":"40px"}},"BaSon")],-1),O=Object(n["g"])("span",{class:"master-control-label control-label"},"MASTER CONTROL",-1),S={style:{display:"flex",width:"100%",margin:"20px auto 10px 0px","justify-content":"center"}},C={class:"",style:{display:"block",padding:"2rem 1rem"}},j={style:{display:"flex","margin-bottom":"25px",border:"2px solid rgb(96, 100, 105)",padding:"0.6em","border-radius":"0.5rem",position:"relative"}},B=Object(n["g"])("span",{class:"control-label"},"PLAY",-1),I={style:{"margin-right":"20px"}},A=Object(n["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-play-fill",viewBox:"0 0 16 16",style:{"margin-top":"2px"}},[Object(n["g"])("path",{d:"m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"})],-1),E=Object(n["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-stop-fill",viewBox:"0 0 16 16",style:{"margin-top":"2px"}},[Object(n["g"])("path",{d:"M5 3.5h6A1.5 1.5 0 0 1 12.5 5v6a1.5 1.5 0 0 1-1.5 1.5H5A1.5 1.5 0 0 1 3.5 11V5A1.5 1.5 0 0 1 5 3.5z"})],-1),N={class:"divInputBpm",style:{"margin-right":"20px"},id:"bpmGroup"},M=Object(n["g"])("label",{class:"labelInputBpm",color:"gray","font-size":"0.6rem","font-weight":"600","letter-spacing":"0.1em",for:"bpm"},"BPM",-1),L={class:"divInputButtons",display:"flex"},T=Object(n["g"])("svg",{width:"10px",height:"6px",viewBox:"0 0 12 7",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},[Object(n["g"])("polygon",{points:"0 7 12 7 6 0",fill:"white"})],-1),D=Object(n["g"])("svg",{width:"10px",height:"6px",viewBox:"0 0 12 7",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},[Object(n["g"])("polygon",{points:"0 0 12 0 6 7",fill:"white"})],-1),P={class:"divInputBpm",id:"nbBeatsGroup"},V=Object(n["g"])("label",{class:"labelInputBpm",color:"gray","font-size":"0.6rem","font-weight":"600","letter-spacing":"0.1em",for:"nbBeats"},"BPLoop ",-1),$={class:"divInputButtons",display:"flex"},q=Object(n["g"])("svg",{width:"10px",height:"6px",viewBox:"0 0 12 7",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},[Object(n["g"])("polygon",{points:"0 7 12 7 6 0",fill:"white"})],-1),R=Object(n["g"])("svg",{width:"10px",height:"6px",viewBox:"0 0 12 7",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},[Object(n["g"])("polygon",{points:"0 0 12 0 6 7",fill:"white"})],-1),F={style:{display:"flex"}},W={class:"knob-slot",style:{"margin-right":"90px"}},z=Object(n["g"])("span",{class:"knob-name"},"VOL",-1),Y={class:"knob"},K=Object(n["g"])("span",{class:"knob-label"},"0",-1),H=Object(n["g"])("span",{class:"knob-label"},"1",-1),G={style:{border:"2px solid rgb(96, 100, 105)",padding:"0.6em","border-radius":"0.5rem",position:"relative"}},U=Object(n["g"])("span",{class:"control-label"},"RECORD",-1),Q={class:"divInputBpm",style:{width:"144px"}},X={style:{display:"flex"}},J=Object(n["g"])("label",{class:"labelInputBpm",color:"gray","font-size":"0.6rem","font-weight":"600","letter-spacing":"0.1em",for:"nbRecord"},"Loop Record",-1),Z={class:"divInputButtons",display:"flex"},tt=Object(n["g"])("svg",{width:"10px",height:"6px",viewBox:"0 0 12 7",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},[Object(n["g"])("polygon",{points:"0 7 12 7 6 0",fill:"white"})],-1),et=Object(n["g"])("svg",{width:"10px",height:"6px",viewBox:"0 0 12 7",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},[Object(n["g"])("polygon",{points:"0 0 12 0 6 7",fill:"white"})],-1),it={class:"gradient",style:{margin:"-2px 0 0 3px"}},nt=Object(n["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"white",class:"bi bi-record-fill",viewBox:"0 0 16 16",style:{"margin-top":"2px"},id:"circleRecord"},[Object(n["g"])("path",{"fill-rule":"evenodd",d:"M8 13A5 5 0 1 0 8 3a5 5 0 0 0 0 10z"})],-1),st={class:"divMasterScope"},at={style:{display:"block",padding:"0rem 1rem"},class:"divConfig"},ot={style:{"margin-bottom":"40px"}},rt={style:{"margin-bottom":"40px",style:"flex"}},lt=Object(n["g"])("div",{style:{display:"flex"}},[Object(n["g"])("div",{style:{"margin-top":"3px"}},[Object(n["g"])("p",{style:{margin:"5px 15px 0 0px"}},"DEMO")]),Object(n["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-headphones",viewBox:"0 0 16 16",style:{margin:"2px 0 0 0"}},[Object(n["g"])("path",{d:"M8 3a5 5 0 0 0-5 5v1h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V8a6 6 0 1 1 12 0v5a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1V8a5 5 0 0 0-5-5z"})])],-1),ct=Object(n["g"])("button",{type:"button",class:"btn btn-secondary mybtn-info shadow-none btn-style",style:{"border-radius":"50%","margin-left":"15px"},"data-bs-toggle":"modal","data-bs-target":"#modalInfo"},[Object(n["g"])("div",{style:{display:"flex"}},[Object(n["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-info",viewBox:"0 0 16 16"},[Object(n["g"])("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})])])],-1),dt=Object(n["f"])('<div class="modal fade" id="modalInfo" tabindex="-1" aria-labelledby="modalInfoLabel" aria-hidden="true" data-v-5823cb13><div class="modal-dialog" data-v-5823cb13><div class="modal-content" data-v-5823cb13><div class="modal-header" data-v-5823cb13><h5 class="modal-title" id="exampleModalLabel" data-v-5823cb13>Info</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" data-v-5823cb13></button></div><div class="modal-body" data-v-5823cb13><p data-v-5823cb13>Ce projet a t ralis par Antoine Brusco et Tinal Sanvoisin lors d&#39;un projet universitaire de quatrime anne  l&#39;ENIB (Ecole Nationale d&#39;Ingnieurs de Brest) sous le tutorat de Gireg Desmeulles et Vincent Choqueuse. <br data-v-5823cb13>Ce site a t dvelopp pour l&#39;association &quot;Vivre Le Monde&quot; afin d&#39;tre utilis dans des interventions qui ont pour objectif d&#39;veiller les jeunes, dans des coles et collges,  la musique par la cration de squences rythmiques. </p></div><div class="modal-footer" data-v-5823cb13><button type="button" class="btn btn-secondary" id="stopModal" data-bs-dismiss="modal" data-v-5823cb13>Retour</button></div></div></div></div>',1),ut={style:{display:"flex",height:"52px"}},ht=Object(n["g"])("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 276.157 276.157",style:{"enable-background":"new 0 0 276.157 276.157"},"xml:space":"preserve"},[Object(n["g"])("path",{style:{fill:"#FFF"},d:"M273.081,101.378c-3.3-4.651-8.86-7.319-15.255-7.319h-24.34v-26.47c0-10.201-8.299-18.5-18.5-18.5\n                                h-85.322c-3.63,0-9.295-2.876-11.436-5.806l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.731\n                                c-9.293,0-18.639,6.608-21.738,15.372l-2.033,5.752c-0.958,2.71-4.721,5.371-7.596,5.371H18.5c-10.201,0-18.5,8.299-18.5,18.5\n                                v167.07c0,0.885,0.161,1.73,0.443,2.519c0.152,3.306,1.18,6.424,3.053,9.064c3.3,4.652,8.86,7.319,15.255,7.319h188.486\n                                c11.395,0,23.27-8.424,27.035-19.179l40.677-116.188C277.061,112.159,276.381,106.03,273.081,101.378z M18.5,64.089h8.864\n                                c9.295,0,18.64-6.608,21.738-15.372l2.032-5.75c0.959-2.711,4.722-5.372,7.597-5.372h29.564c3.63,0,9.295,2.876,11.437,5.806\n                                l6.386,8.734c4.982,6.815,15.104,11.954,23.546,11.954h85.322c1.898,0,3.5,1.603,3.5,3.5v26.47H69.34\n                                c-11.395,0-23.27,8.424-27.035,19.179L15,191.231V67.589C15,65.692,16.603,64.089,18.5,64.089z M260.791,113.238l-40.677,116.188\n                                c-1.674,4.781-7.812,9.135-12.877,9.135H18.751c-1.448,0-2.577-0.373-3.02-0.998c-0.443-0.625-0.423-1.814,0.056-3.181\n                                l40.677-116.188c1.674-4.781,7.812-9.135,12.877-9.135h188.486c1.448,0,2.577,0.373,3.021,0.998\n                                C261.29,110.682,261.27,111.871,260.791,113.238z"})],-1),mt=Object(n["g"])("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 469.333 469.333",style:{"enable-background":"new 0 0 469.333 469.333",fill:"white"},"xml:space":"preserve"},[Object(n["g"])("g",null,[Object(n["g"])("g",null,[Object(n["g"])("g",null,[Object(n["g"])("path",{d:"M466.208,88.458L380.875,3.125c-2-2-4.708-3.125-7.542-3.125H42.667C19.146,0,0,19.135,0,42.667v384\n                                            c0,23.531,19.146,42.667,42.667,42.667h384c23.521,0,42.667-19.135,42.667-42.667V96\n                                            C469.333,93.167,468.208,90.458,466.208,88.458z M106.667,21.333h234.667v128c0,11.76-9.563,21.333-21.333,21.333H128\n                                            c-11.771,0-21.333-9.573-21.333-21.333V21.333z M384,448H85.333V256H384V448z M448,426.667c0,11.76-9.563,21.333-21.333,21.333\n                                            h-21.333V245.333c0-5.896-4.771-10.667-10.667-10.667h-320c-5.896,0-10.667,4.771-10.667,10.667V448H42.667\n                                            c-11.771,0-21.333-9.573-21.333-21.333v-384c0-11.76,9.563-21.333,21.333-21.333h42.667v128C85.333,172.865,104.479,192,128,192\n                                            h192c23.521,0,42.667-19.135,42.667-42.667v-128h6.25L448,100.417V426.667z"}),Object(n["g"])("path",{d:"M266.667,149.333h42.667c5.896,0,10.667-4.771,10.667-10.667V53.333c0-5.896-4.771-10.667-10.667-10.667h-42.667\n                                            c-5.896,0-10.667,4.771-10.667,10.667v85.333C256,144.562,260.771,149.333,266.667,149.333z M277.333,64h21.333v64h-21.333V64z"})])])])],-1),pt=Object(n["g"])("a",{id:"fileJsonSave",style:{visibility:"hidden"},href:""},null,-1),bt=Object(n["g"])("button",{type:"button",class:"btn btn-primary d-none",id:"saveFileName","data-bs-toggle":"modal","data-bs-target":"#modalName"},null,-1),gt={class:"modal fade",id:"modalName",tabindex:"-1","aria-labelledby":"modalNameLabel","aria-hidden":"true"},ft={class:"modal-dialog"},vt={class:"modal-content"},yt=Object(n["f"])('<div class="modal-header" data-v-5823cb13><h5 class="modal-title" id="exampleModalLabel" data-v-5823cb13>Sauvegarde du pattern</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" data-v-5823cb13></button></div><div class="modal-body" data-v-5823cb13><label for="nameFile" style="margin-right:15px;" data-v-5823cb13>Nom du fichier :</label><input id="nameFile" type="text" data-v-5823cb13><p class="text-danger mt-2" style="margin:0;font-weight:bold;" data-v-5823cb13>Attention les samples ne seront pas sauvegards. Il faudra les rcuprer sur <a href="https://banana-cobbler-95780.herokuapp.com" data-v-5823cb13>ce site</a>.</p></div>',2),wt={class:"modal-footer"},xt=Object(n["g"])("button",{type:"button",class:"btn btn-secondary",id:"stopModal","data-bs-dismiss":"modal"},"Retour",-1),kt=Object(n["g"])("button",{type:"button",class:"btn btn-primary d-none",id:"saveFileNameRecord","data-bs-toggle":"modal","data-bs-target":"#modalNameRecord"},null,-1),_t={class:"modal fade",id:"modalNameRecord",tabindex:"-1","aria-labelledby":"modalNameLabelRecord","aria-hidden":"true"},Ot={class:"modal-dialog"},St={class:"modal-content"},Ct=Object(n["f"])('<div class="modal-header" data-v-5823cb13><h5 class="modal-title" id="exampleModalLabel" data-v-5823cb13>Tlcharger le fichier audio</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" data-v-5823cb13></button></div><div class="modal-body" data-v-5823cb13><label for="nameFileRecord" style="margin-right:15px;" data-v-5823cb13>Nom du fichier :</label><input id="nameFileRecord" type="text" data-v-5823cb13></div>',2),jt={class:"modal-footer"},Bt=Object(n["g"])("button",{type:"button",class:"btn btn-secondary",id:"stopModal","data-bs-dismiss":"modal"},"Retour",-1),It=Object(n["g"])("a",{class:"d-none",href:"",id:"saveRecordFileA"},null,-1),At=Object(n["g"])("div",{class:"position-fixed top-0 p-3",style:{"z-index":"5",left:"40%"}},[Object(n["g"])("div",{id:"liveToast",class:"toast hide",role:"alert","aria-live":"assertive","aria-atomic":"true"},[Object(n["g"])("div",{class:"toast-header"},[Object(n["g"])("strong",{class:"me-auto"},"Info"),Object(n["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"})]),Object(n["g"])("div",{class:"toast-body"},[Object(n["g"])("p",{style:{margin:"0"}},"N'oubliez pas : les samples ne sont pas sauvegards dans le fichier !")])])],-1),Et=Object(n["g"])("div",{class:"position-fixed top-0 p-3 text-danger",style:{"z-index":"5",left:"40%"}},[Object(n["g"])("div",{id:"issueToast",class:"toast hide",role:"alert","aria-live":"assertive","aria-atomic":"true"},[Object(n["g"])("div",{class:"toast-header"},[Object(n["g"])("strong",{class:"me-auto"},"Fichier non conforme !"),Object(n["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"})]),Object(n["g"])("div",{class:"toast-body"},[Object(n["g"])("p",{style:{margin:"0"}},"Votre fichier est endommag et ne peut pas tre lu !")])])],-1);Object(n["q"])();var Nt=y((function(t,e,i,s,a,o){var r=Object(n["w"])("webaudio-knob"),l=Object(n["w"])("MasterScope"),c=Object(n["w"])("AddSampleBtn");return Object(n["p"])(),Object(n["d"])("div",w,[Object(n["g"])("div",x,[Object(n["g"])("div",k,[Object(n["g"])("img",{src:a.imageLogo,style:{width:"104.7px",height:"30px","margin-top":"-90px"}},null,8,["src"]),Object(n["g"])("img",{src:a.imageLogoEnib,style:{width:"104.7px",height:"44px","margin-top":"5px","border-radius":"7px","background-color":"white",border:"5px solid white"}},null,8,["src"])]),_]),O,Object(n["g"])("div",S,[Object(n["g"])("div",C,[Object(n["g"])("div",j,[B,Object(n["g"])("div",I,[Object(n["g"])("button",{class:"btn btn-success buttonAction shadow-none btn-style",id:"btnPlay",type:"button",onClick:e[1]||(e[1]=function(){return o.changeButtonAction&&o.changeButtonAction.apply(o,arguments)})},[A]),Object(n["g"])("button",{class:"btn btn-danger buttonAction d-none shadow-none btn-style",id:"btnPause",type:"button",onClick:e[2]||(e[2]=function(){return o.changeButtonAction&&o.changeButtonAction.apply(o,arguments)})},[E])]),Object(n["g"])("div",N,[M,Object(n["C"])(Object(n["g"])("input",{class:"bpm-text-input inputBpm",min:"30",max:"300","font-size":"1.5rem","font-weight":"500",id:"bpm",color:"brightRed",type:"number","onUpdate:modelValue":e[3]||(e[3]=function(t){return o.bpm=t}),onBlur:e[4]||(e[4]=function(){return o.updateInput&&o.updateInput.apply(o,arguments)})},null,544),[[n["A"],o.bpm,void 0,{number:!0}]]),Object(n["g"])("div",L,[Object(n["g"])("button",{class:"inputButton",id:"inputButtonUp",color:"white",width:"2rem","aria-label":"Increase beat per minute","font-weight":"bold",onMousedown:e[5]||(e[5]=function(t){return o.upBpm(!0)}),onMouseup:e[6]||(e[6]=function(){return o.resetMouseDown&&o.resetMouseDown.apply(o,arguments)})},[T],32),Object(n["g"])("button",{class:"inputButton",id:"inputButtonDown",color:"white",width:"2rem","aria-label":"Decrease beat per minute","font-weight":"bold",onMousedown:e[7]||(e[7]=function(t){return o.downBpm(!0)}),onMouseup:e[8]||(e[8]=function(){return o.resetMouseDown&&o.resetMouseDown.apply(o,arguments)})},[D],32)])]),Object(n["g"])("div",P,[V,Object(n["C"])(Object(n["g"])("input",{class:"bpm-text-input inputBpm",min:"30",max:"300","font-size":"1.5rem","font-weight":"500",id:"nbBeats",color:"brightRed",type:"number","onUpdate:modelValue":e[9]||(e[9]=function(t){return o.nbBeats=t}),onBlur:e[10]||(e[10]=function(){return t.updateInputNbBeats&&t.updateInputNbBeats.apply(t,arguments)}),style:{"margin-left":"5px",width:"50px"}},null,544),[[n["A"],o.nbBeats,void 0,{number:!0}]]),Object(n["g"])("div",$,[Object(n["g"])("button",{class:"inputButton",id:"inputButtonUpNbBeats",color:"white",width:"2rem","aria-label":"Increase beat per minute","font-weight":"bold",onMousedown:e[11]||(e[11]=function(t){return o.upNbBeats()})},[q],32),Object(n["g"])("button",{class:"inputButton",id:"inputButtonDownNbBeats",color:"white",width:"2rem","aria-label":"Decrease beat per minute","font-weight":"bold",onMousedown:e[12]||(e[12]=function(t){return o.downNbBeats()})},[R],32)])])]),Object(n["g"])("div",F,[Object(n["g"])("div",W,[z,Object(n["g"])("div",Y,[K,Object(n["g"])(r,{src:a.volKnobData.imageURL,min:a.volKnobData.min,max:a.volKnobData.max,width:a.volKnobData.size,height:a.volKnobData.size,value:100,id:"volumeMaster",onInput:o.updateGainMaster,onDblclick:o.resetGainMaster,valuetip:1},null,8,["src","min","max","width","height","onInput","onDblclick"]),H])]),Object(n["g"])("div",G,[U,Object(n["g"])("div",Q,[Object(n["g"])("div",X,[J,Object(n["C"])(Object(n["g"])("input",{class:"bpm-text-input inputBpm",min:"30",max:"300","font-size":"1.5rem","font-weight":"500",id:"nbRecord",color:"brightRed",type:"number","onUpdate:modelValue":e[13]||(e[13]=function(t){return o.nbRecord=t}),onBlur:e[14]||(e[14]=function(){return o.updateInputNbRecord&&o.updateInputNbRecord.apply(o,arguments)}),style:{"margin-left":"15px",width:"40px"}},null,544),[[n["A"],o.nbRecord,void 0,{number:!0}]]),Object(n["g"])("div",Z,[Object(n["g"])("button",{class:"inputButton",id:"inputButtonUpNbRecord",color:"white",width:"2rem","aria-label":"Increase beat per minute","font-weight":"bold",onMousedown:e[15]||(e[15]=function(t){return o.upNbRecord()})},[tt],32),Object(n["g"])("button",{class:"inputButton",id:"inputButtonDownNbRecord",color:"white",width:"2rem","aria-label":"Decrease beat per minute","font-weight":"bold",onMousedown:e[16]||(e[16]=function(t){return o.downNbRecord()})},[et],32)]),Object(n["g"])("div",it,[Object(n["g"])("button",{type:"button",class:"btn buttonActionRecord shadow-none",onClick:e[17]||(e[17]=function(){return o.startRecord&&o.startRecord.apply(o,arguments)}),id:"recorderButton",style:{"background-color":"#1F1F1F",border:"2px solid rgb(96, 100, 105)","border-radius":"0.5rem","border-right-width":"0px","border-top-left-radius":"0","border-bottom-left-radius":"0"}},[nt])])])])])])]),Object(n["g"])("div",st,[Object(n["g"])(l)]),Object(n["g"])("div",at,[Object(n["g"])("div",ot,[Object(n["g"])(c)]),Object(n["g"])("div",rt,[Object(n["g"])("button",{type:"button",class:"btn btn-secondary btn-demo shadow-none btn-style",onClick:e[18]||(e[18]=function(){return o.setInDemo&&o.setInDemo.apply(o,arguments)})},[lt]),ct,dt]),Object(n["g"])("div",ut,[Object(n["g"])("div",null,[Object(n["g"])("label",{for:"fileJson",class:"btn btn-secondary buttonActionLoad btn-style",onClick:e[19]||(e[19]=function(){return o.loadingFile&&o.loadingFile.apply(o,arguments)}),style:{display:"flex","border-bottom-right-radius":"0px","border-top-right-radius":"0px"}},[ht]),Object(n["g"])("input",{id:"fileJson",style:{visibility:"hidden",width:"0px",height:"0px"},type:"file",accept:"application/json",onChange:e[20]||(e[20]=function(){return o.readFile&&o.readFile.apply(o,arguments)})},null,32)]),Object(n["g"])("div",null,[Object(n["g"])("label",{for:"fileJsonSave",class:"btn btn-secondary buttonActionLoad btn-style",onClick:e[21]||(e[21]=function(){return o.activeModal&&o.activeModal.apply(o,arguments)}),style:{display:"flex","border-bottom-left-radius":"0px","border-top-left-radius":"0px"}},[mt]),pt]),bt,Object(n["g"])("div",gt,[Object(n["g"])("div",ft,[Object(n["g"])("div",vt,[yt,Object(n["g"])("div",wt,[xt,Object(n["g"])("button",{type:"button",class:"btn btn-success",onClick:e[22]||(e[22]=function(){return o.writeFile&&o.writeFile.apply(o,arguments)})},"Sauvegarder")])])])])]),kt,Object(n["g"])("div",_t,[Object(n["g"])("div",Ot,[Object(n["g"])("div",St,[Ct,Object(n["g"])("div",jt,[Bt,Object(n["g"])("button",{type:"button",class:"btn btn-success","data-bs-dismiss":"modal",onClick:e[23]||(e[23]=function(){return o.recordFile&&o.recordFile.apply(o,arguments)})},"Tlcharger")])])])]),It]),At,Et])])})),Mt=(i("25f0"),i("159b"),i("4de4"),i("6b93"),i("2b3d"),i("3ca3"),i("ddb0"),Object(n["E"])("data-v-1861b658"));Object(n["s"])("data-v-1861b658");var Lt={style:{display:"block",position:"relative"}},Tt=Object(n["f"])('<span class="analyser" data-v-1861b658>ANALYSER SCOPE (FREQUENCY IN HZ)</span><div class="master" style="display:flex;border:2px solid rgb(96, 100, 105);border-radius:0.5rem;padding:1.6em;" data-v-1861b658><div style="width:931px;" data-v-1861b658><div data-v-1861b658><canvas width="931" height="150" id="waveform" style="padding:0;display:block;" data-v-1861b658></canvas></div><div style="display:flex;margin-top:-1px;" data-v-1861b658><div class="verticalLine" style="margin-left:1 px;" data-v-1861b658></div><div class="verticalLine" style="margin-left:45px;" data-v-1861b658></div><div class="verticalLine" style="margin-left:45.5px;" data-v-1861b658></div><div class="verticalLine" style="margin-left:45.5px;" data-v-1861b658></div><div class="verticalLine" style="margin-left:45.5px;" data-v-1861b658></div><div class="verticalLine" style="margin-left:45.5px;" data-v-1861b658></div><div class="verticalLine" style="margin-left:45.5px;" data-v-1861b658></div><div class="verticalLine" style="margin-left:45.5px;" data-v-1861b658></div><div class="verticalLine" style="margin-left:45.5px;" data-v-1861b658></div><div class="verticalLine" style="margin-left:45.5px;" data-v-1861b658></div><div class="verticalLine" style="margin-left:45.5px;" data-v-1861b658></div><div class="verticalLine" style="margin-left:45.5px;" data-v-1861b658></div><div class="verticalLine" style="margin-left:45.5px;" data-v-1861b658></div><div class="verticalLine" style="margin-left:45.5px;" data-v-1861b658></div><div class="verticalLine" style="margin-left:45.5px;" data-v-1861b658></div><div class="verticalLine" style="margin-left:45.5px;" data-v-1861b658></div><div class="verticalLine" style="margin-left:45.5px;" data-v-1861b658></div><div class="verticalLine" style="margin-left:45.5px;" data-v-1861b658></div><div class="verticalLine" style="margin-left:45.5px;" data-v-1861b658></div><div class="verticalLine" style="margin-left:45.5px;" data-v-1861b658></div><div class="verticalLine" style="margin-left:45.5px;" data-v-1861b658></div></div><div style="display:flex;color:ghostwhite;margin-top:4px;height:20px;" data-v-1861b658><p style="margin-left:-10px;" data-v-1861b658>20</p><p style="margin-left:29px;" data-v-1861b658>1k</p><p style="margin-left:29.5px;" data-v-1861b658>2k</p><p style="margin-left:29.5px;" data-v-1861b658>3k</p><p style="margin-left:29.5px;" data-v-1861b658>4k</p><p style="margin-left:29.5px;" data-v-1861b658>5k</p><p style="margin-left:29.5px;" data-v-1861b658>6k</p><p style="margin-left:29.5px;" data-v-1861b658>7k</p><p style="margin-left:29.5px;" data-v-1861b658>8k</p><p style="margin-left:29.5px;" data-v-1861b658>9k</p><p style="margin-left:29.5px;" data-v-1861b658>10k</p><p style="margin-left:20.5px;" data-v-1861b658>11k</p><p style="margin-left:20.5px;" data-v-1861b658>12k</p><p style="margin-left:20.5px;" data-v-1861b658>13k</p><p style="margin-left:20.5px;" data-v-1861b658>14k</p><p style="margin-left:20.5px;" data-v-1861b658>15k</p><p style="margin-left:20.5px;" data-v-1861b658>16k</p><p style="margin-left:20.5px;" data-v-1861b658>17k</p><p style="margin-left:20.5px;" data-v-1861b658>18k</p><p style="margin-left:20.5px;" data-v-1861b658>19k</p><p style="margin-left:20.5px;" data-v-1861b658>20k</p></div></div></div>',2);Object(n["q"])();var Dt=Mt((function(t,e,i,s,a,o){return Object(n["p"])(),Object(n["d"])("div",Lt,[Tt])})),Pt=(i("5cc6"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("3c5d"),i("2954"),i("649e"),i("219c"),i("170b"),i("b39a"),i("72f7"),{methods:{drawFrequencyBar:function(){var t=document.getElementById("waveform"),e=t.getContext("2d");if(this.$store.state.analyser){this.$store.state.analyser.fftSize=2048;var i=this.$store.state.analyser.frequencyBinCount,n=new Uint8Array(i);this.$store.state.analyser.getByteFrequencyData(n),e.fillStyle="rgb(0, 0, 0)",e.fillRect(0,0,t.width,t.height);for(var s,a=.5,o=0,r=0;r<i;r++)s=n[r],e.fillStyle="rgb("+(s+100)+",50,50)",e.fillRect(o,t.height-s/2,a,s),o+=a+.5}this.drawFrequencyBarRequest=requestAnimationFrame(this.drawFrequencyBar)}},mounted:function(){var t=document.getElementById("waveform"),e=t.getContext("2d");e.clearRect(0,0,t.width,t.height),this.drawFrequencyBar()}});i("2885");Pt.render=Dt,Pt.__scopeId="data-v-1861b658";var Vt=Pt,$t=Object(n["E"])("data-v-6af80a3e");Object(n["s"])("data-v-6af80a3e");var qt=Object(n["g"])("label",{for:"sample",class:"btn btn-secondary btn-style",style:{width:"190px",display:"flex"}},[Object(n["g"])("div",{style:{"margin-top":"3px"}},[Object(n["g"])("p",{style:{margin:"5px 15px 0 0px"}},"ADD SAMPLES")]),Object(n["g"])("div",null,[Object(n["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-music-note-list",viewBox:"0 0 16 16",style:{"margin-top":"3px"}},[Object(n["g"])("path",{d:"M12 13c0 1.105-1.12 2-2.5 2S7 14.105 7 13s1.12-2 2.5-2 2.5.895 2.5 2z"}),Object(n["g"])("path",{"fill-rule":"evenodd",d:"M12 3v10h-1V3h1z"}),Object(n["g"])("path",{d:"M11 2.82a1 1 0 0 1 .804-.98l3-.6A1 1 0 0 1 16 2.22V4l-5 1V2.82z"}),Object(n["g"])("path",{"fill-rule":"evenodd",d:"M0 11.5a.5.5 0 0 1 .5-.5H4a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 .5 7H8a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 .5 3H8a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5z"})])])],-1);Object(n["q"])();var Rt=$t((function(t,e,i,s,a,o){return Object(n["p"])(),Object(n["d"])(n["a"],null,[qt,Object(n["g"])("input",{type:"file",accept:"audio/*",id:"sample",onChange:e[1]||(e[1]=function(){return o.addSampleOption&&o.addSampleOption.apply(o,arguments)}),multiple:""},null,32)],64)})),Ft={computed:{getAudioCtx:function(){return this.$store.getters.getAudioCtx}},methods:{readUploadedFile:function(t){var e=new FileReader;return new Promise((function(i,n){e.onerror=function(){e.abort(),n(new DOMException("Problem parsing input file."))},e.onload=function(){i(e.result)},e.readAsArrayBuffer(t)}))},createAudioBuffer:function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=e.getAudioCtx,i.abrupt("return",new Promise((function(e,i){n.decodeAudioData(t,e,i)})));case 2:case"end":return i.stop()}}),i)})))()},addSampleOption:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){var i,n,s,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=document.getElementById("sample").files,n=0;case 2:if(!(n<i.length)){e.next=14;break}return s=i[n],e.next=6,t.readUploadedFile(s);case 6:return a=e.sent,e.next=9,t.createAudioBuffer(a);case 9:o=e.sent,t.$store.commit("addSamples",{sampleName:s.name,buffer:o});case 11:n++,e.next=2;break;case 14:case"end":return e.stop()}}),e)})))()}}};i("161a");Ft.render=Rt,Ft.__scopeId="data-v-6af80a3e";var Wt=Ft,zt=Object(n["E"])("data-v-61133d3c"),Yt=zt((function(t,e,i,s,a,o){return Object(n["p"])(),Object(n["d"])("div",{class:"custom-select",tabindex:i.tabindex,onBlur:e[2]||(e[2]=function(t){return a.open=!1})},[Object(n["g"])("div",{class:["selected",{open:a.open,disabled:o.isPlayingStore&&"filter"!==t.name}],onClick:e[1]||(e[1]=function(){return o.openMenu&&o.openMenu.apply(o,arguments)})},[Object(n["g"])("div",{id:i.id},Object(n["y"])(a.selected.substring(0,7)),9,["id"])],2),Object(n["g"])("div",{class:["items",{selectHide:!a.open}]},[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(i.options,(function(e,s){return Object(n["p"])(),Object(n["d"])("div",{key:s,onClick:function(i){a.selected=e,a.open=!1,t.$emit("input",e)}},Object(n["y"])(e.substring(0,i.numberOfLetters)),9,["onClick"])})),128))],2)],40,["tabindex"])})),Kt=(i("a9e3"),{computed:{isPlayingStore:function(){return this.$store.state.isPlaying}},props:{options:{type:Array,required:!0},default:{type:String,required:!1,default:null},tabindex:{type:Number,required:!1,default:0},isShown:{type:Boolean,required:!1,default:!0},numberOfLetters:{type:Number,required:!1,default:7},id:{type:String,required:!1,default:"none"}},data:function(){return{selected:this.default?this.default:this.options.length>0?this.options[0]:null,open:!1}},methods:{openMenu:function(){this.$store.state.isPlaying||(this.open=!this.open)}}});i("48e8");Kt.render=Yt,Kt.__scopeId="data-v-61133d3c";var Ht=Kt,Gt=(i("062c"),i("5ac5")),Ut=i.n(Gt),Qt={name:"Master",components:{MasterScope:Vt,AddSampleBtn:Wt,CustomSelect:Ht},data:function(){return{mouseDown:!1,allNbBeats:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16"],currentBeat:"4",allNbBeatsRecord:["1","2","3","4"],volKnobData:{imageURL:Ut.a,min:0,max:100,size:40,drawWaveformRequest:null,drawFrequencyBarRequest:null},imageLogo:i("2f7d"),imageLogoEnib:i("c936")}},computed:{currentNbBeatsRecord:function(){return this.$store.state.nbBeatsRecord.toString()},getAudioCtx:function(){return this.$store.getters.getAudioCtx},bpm:{get:function(){return this.$store.state.bpm},set:function(t){if(t>300)return t=300,this.$store.commit("setBpm",t),void this.$forceUpdate();t<30&&(t=30),this.$store.commit("setBpm",t)}},nbRecord:{get:function(){return this.$store.state.nbBeatsRecord},set:function(t){if(t>4)return t=4,this.$store.commit("updateNbBeatsRecord",t),void this.$forceUpdate();t<1&&(t=1),this.$store.commit("updateNbBeatsRecord",t)}},nbBeats:{get:function(){return this.$store.state.nbBeats},set:function(t){if(t>16)return t=16,this.$store.commit("updateNbBeats",t),void this.$forceUpdate();t<1&&(t=1),this.$store.commit("updateNbBeats",t)}}},methods:{updateGainMaster:function(){var t=document.getElementById("volumeMaster").value/100;this.$store.commit("updateGainMaster",t)},loadingFile:function(){document.getElementById("fileJson").click()},setSequenceur:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t;n.bpm&&n.bpm>=30&&n.bpm<=300&&this.$store.commit("setBpm",n.bpm),n.masterVolume&&n.masterVolume<=1&&n.masterVolume>=0&&(this.$store.commit("updateGainMaster",n.masterVolume),document.getElementById("volumeMaster").setValue(100*n.masterVolume)),n.nbTemps&&n.nbTemps>=1&&n.nbTemps<=16&&this.$store.commit("updateNbBeats",n.nbTemps),n.nbRecord&&n.nbRecord>=1&&n.nbRecord<=4&&this.$store.commit("updateNbBeatsRecord",n.nbRecord),this.$store.commit("resetSamplesChosen"),setTimeout((function(){n.channels.forEach((function(t){try{e.$store.commit("addSamplesChosen",{sampleName:t.name,src:t.src}),e.$store.state.samplesChosen[t.id-1].track=t.track,e.$store.state.samplesChosen[t.id-1].timeSubdiv=t.nbSubDiv,e.$store.state.samplesChosen[t.id-1].frequencyInTime=t.frequencyInTime,e.$store.state.samplesChosen[t.id-1].audioNode.filter.type=t.filterType,e.$store.state.samplesChosen[t.id-1].filterName=t.filterName,e.$store.state.samplesChosen[t.id-1].filterColor=t.filterColor,e.$store.state.samplesChosen[t.id-1].audioNode.filter.frequency.setValueAtTime(t.frequency,e.$store.state.audioCtx.currentTime),e.$store.state.samplesChosen[t.id-1].audioNode.filter.Q.setValueAtTime(t.Q,e.$store.state.audioCtx.currentTime),setTimeout((function(){document.getElementById("freq"+t.id).setValue(Math.log10(t.frequency/20)),document.getElementById("Q"+t.id).setValue(t.Q),e.$store.commit("updateGain",{value:t.volume,sampleId:t.id}),document.getElementById("volume"+t.id).setValue(100*t.volume),e.$store.commit("updatePan",{value:t.pan,sampleId:t.id}),document.getElementById("pan"+t.id).setValue(100*t.pan),document.getElementById("nbSubDiv"+t.id).innerHTML=t.nbSubDiv;for(var n=0;n<e.$store.state.nbBeats*t.nbSubDiv;n++){var s=n%t.nbSubDiv+1+e.$store.state.samplesChosen[t.id-1].timeSubdiv*(Math.ceil((n+1)/t.nbSubDiv)-1),a="temps-ref-"+e.$store.state.samplesChosen[t.id-1].id.toString()+"-"+s.toString();1===e.$store.state.samplesChosen[t.id-1].track[n].gain?document.getElementById(a).classList.add("active1"):.5===e.$store.state.samplesChosen[t.id-1].track[n].gain?document.getElementById(a).classList.add("active2"):.25===e.$store.state.samplesChosen[t.id-1].track[n].gain&&document.getElementById(a).classList.add("active3")}i||(document.getElementById("liveToast").classList.remove("hide"),document.getElementById("liveToast").style.transition="opacity 0.3s",document.getElementById("liveToast").style.opacity=1,setTimeout((function(){document.getElementById("liveToast").style.opacity=0,setTimeout((function(){document.getElementById("liveToast").classList.add("hide")}),300)}),4e3))}),100)}catch(n){setTimeout((function(){e.$store.commit("resetSamplesChosen"),e.$store.commit("addSamplesChosen",{sampleName:"Default",src:null}),e.$store.commit("addSamplesChosen",{sampleName:"Default",src:null}),e.$store.commit("addSamplesChosen",{sampleName:"Default",src:null}),e.$store.commit("addSamplesChosen",{sampleName:"Default",src:null}),e.$store.commit("setBpm",80),e.$store.commit("updateGainMaster",1),document.getElementById("volumeMaster").setValue(100),e.$store.commit("updateNbBeats",4),e.$store.commit("updateNbBeatsRecord",1),document.getElementById("issueToast").classList.remove("hide"),document.getElementById("issueToast").style.transition="opacity 0.3s",document.getElementById("issueToast").style.opacity=1,setTimeout((function(){document.getElementById("issueToast").style.opacity=0,setTimeout((function(){document.getElementById("issueToast").classList.add("hide")}),300)}),4e3)}),1e3)}}))}),100)},readFile:function(t){var e=this,i=new FileReader;i.onload=function(t){var i=JSON.parse(t.target.result);e.setSequenceur(i)},i.readAsText(t.target.files[0])},activeModal:function(){document.getElementById("saveFileName").click()},writeFile:function(){var t=document.getElementById("nameFile").value;""===t&&(t="test");for(var e={comment:"ATTENTION : NE PAS MODIFIER CE FICHIER SOUS PEINE DE LE RENDRE INUTILISABLE",bpm:this.$store.state.bpm,masterVolume:document.getElementById("volumeMaster").value/100,nbTemps:this.$store.state.nbBeats,nbRecord:this.$store.state.nbBeatsRecord,channels:[]},i=0;i<this.$store.state.samplesChosen.length;i++){var n=this.$store.state.samplesChosen[i],s={id:i+1,volume:n.fxParams.gainValue,pan:n.fxParams.panValue,name:"Default",src:null,nbSubDiv:n.timeSubdiv,track:n.track,filterName:n.filterName,filterColor:n.filterColor,filterType:n.audioNode.filter.type,frequencyInTime:n.frequencyInTime,frequency:n.fxParams.frequency,Q:document.getElementById("Q"+n.id).value};e.channels.push(s)}var a=JSON.stringify(e),o=new Blob([a],{type:"text/plain"}),r=document.getElementById("fileJsonSave");r.download=t+".json",r.href=window.URL.createObjectURL(o),r.click(),document.getElementById("stopModal").click()},resetGainMaster:function(){var t="volumeMaster";document.getElementById(t).value=100,document.getElementById(t).shadowRoot.children[1].children[0].textContent=100,this.$store.commit("updateGainMaster",1)},startRecord:function(){this.$store.dispatch("startRecord")},updateInput:function(t){t.target.value<30&&(t.target.value=30)},updateInputNbRecord:function(t){t.target.value<1&&(t.target.value=1)},changeButtonAction:function(){if("block"!==document.getElementById("modalName").style.display)if(document.getElementById("btnPlay").classList.contains("d-none")){this.$store.dispatch("stop");var t=document.getElementById("btnPause");t.classList.add("d-none"),t.disabled=!0;var e=document.getElementById("btnPlay");e.classList.remove("d-none"),e.disabled=!1,document.getElementById("progress").style.width="0%"}else{this.$store.dispatch("play");e=document.getElementById("btnPlay");e.classList.add("d-none"),e.disabled=!0;t=document.getElementById("btnPause");t.classList.remove("d-none"),t.disabled=!1}},resetMouseDown:function(){this.mouseDown=!1},upBpm:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t&&(this.mouseDown=!0),this.mouseDown){var e=parseInt(document.getElementById("bpm").value,10);if(e=isNaN(e)?0:e,e++,e>300)return;document.getElementById("bpm").value=e,document.getElementById("inputButtonUp").blur(),this.$store.commit("setBpm",e),window.setTimeout(this.upBpm,100)}},downBpm:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t&&(this.mouseDown=!0),this.mouseDown){var e=parseInt(document.getElementById("bpm").value,10);if(e=isNaN(e)?0:e,e--,e<30)return;document.getElementById("bpm").value=e,document.getElementById("inputButtonDown").blur(),this.$store.commit("setBpm",e),window.setTimeout(this.downBpm,100)}},upNbBeats:function(){var t=parseInt(document.getElementById("nbBeats").value,10);t=isNaN(t)?0:t,t++,t>16||(document.getElementById("nbBeats").value=t,document.getElementById("inputButtonUpNbBeats").blur(),this.$store.commit("updateNbBeats",t))},downNbBeats:function(){var t=parseInt(document.getElementById("nbBeats").value,10);t=isNaN(t)?0:t,t--,t<1||(document.getElementById("nbBeats").value=t,document.getElementById("inputButtonDownNbBeats").blur(),this.$store.commit("updateNbBeats",t))},upNbRecord:function(){var t=parseInt(document.getElementById("nbRecord").value,10);t=isNaN(t)?0:t,t++,t>4||(document.getElementById("nbRecord").value=t,document.getElementById("inputButtonUpNbRecord").blur(),this.$store.commit("updateNbBeatsRecord",t))},downNbRecord:function(){var t=parseInt(document.getElementById("nbRecord").value,10);t=isNaN(t)?0:t,t--,t<1||(document.getElementById("nbRecord").value=t,document.getElementById("inputButtonDownNbRecord").blur(),this.$store.commit("updateNbBeatsRecord",t))},fetchFile:function(t){return new Promise((function(e,i){fetch(t).then((function(t){t.ok&&e(t.blob()),i(new Error("Network response was not ok."))}))}))},readUploadedFile:function(t){var e=new FileReader;return new Promise((function(i,n){e.onerror=function(){e.abort(),n(new DOMException("Problem parsing input file."))},e.onload=function(){i(e.result)},e.readAsArrayBuffer(t)}))},createAudioBuffer:function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=e.getAudioCtx,i.abrupt("return",new Promise((function(e,i){n.decodeAudioData(t,e,i)})));case 2:case"end":return i.stop()}}),i)})))()},setInDemo:function(){var t=this,e=JSON.parse(JSON.stringify(i("c779")));this.setSequenceur(e,!0),setTimeout(Object(v["a"])(regeneratorRuntime.mark((function e(){var n,s,a,o,r,l,c,d,u,h,m,p,b,g,f,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=i("dbdd"),e.next=3,t.fetchFile(n);case 3:return s=e.sent,e.next=6,t.readUploadedFile(s);case 6:return a=e.sent,e.next=9,t.createAudioBuffer(a);case 9:return o=e.sent,t.$store.state.samplesChosen[0].src=o,t.$store.state.samplesChosen[0].name="kick_Demo",document.getElementById("choiceSample"+t.$store.state.samplesChosen[0].id).innerHTML="kick_De",r=i("88b9"),e.next=16,t.fetchFile(r);case 16:return l=e.sent,e.next=19,t.readUploadedFile(l);case 19:return c=e.sent,e.next=22,t.createAudioBuffer(c);case 22:return d=e.sent,t.$store.state.samplesChosen[1].src=d,t.$store.state.samplesChosen[1].name="snare_Demo",document.getElementById("choiceSample"+t.$store.state.samplesChosen[1].id).innerHTML="snare_D",u=i("4ba6"),e.next=29,t.fetchFile(u);case 29:return h=e.sent,e.next=32,t.readUploadedFile(h);case 32:return m=e.sent,e.next=35,t.createAudioBuffer(m);case 35:for(p=e.sent,t.$store.state.samplesChosen[2].src=p,t.$store.state.samplesChosen[2].name="hats_Demo",document.getElementById("choiceSample"+t.$store.state.samplesChosen[2].id).innerHTML="hats_De",b=!1,g=!1,f=!1,v=0;v<t.$store.state.samples.length;v++)"kick_Demo"===t.$store.state.samples[v].name?b=!0:"snare_Demo"===t.$store.state.samples[v].name?g=!0:"hats_Demo"===t.$store.state.samples[v].name&&(f=!0);b||t.$store.commit("addSamples",{sampleName:"kick_Demo",buffer:o}),g||t.$store.commit("addSamples",{sampleName:"snare_Demo",buffer:d}),f||t.$store.commit("addSamples",{sampleName:"hats_Demo",buffer:p});case 46:case"end":return e.stop()}}),e)}))),800)},recordFile:function(){var t=document.getElementById("saveRecordFileA"),e=document.getElementById("nameFileRecord").value;""===e&&(e="test"),t.download=e,t.click()}},mounted:function(){var t=this;window.addEventListener("keyup",(function(e){"Space"===e.code&&(e.preventDefault(),t.changeButtonAction())})),window.addEventListener("keydown",(function(t){"Space"===t.code&&t.preventDefault()})),window.addEventListener("resize",this.resizeDiv)}};i("d4cd");Qt.render=Nt,Qt.__scopeId="data-v-5823cb13";var Xt=Qt,Jt=Object(n["E"])("data-v-2a25062f");Object(n["s"])("data-v-2a25062f");var Zt={class:"channel-control-flex"},te={key:0,class:"channel-control-label"},ee={key:1,class:"channel-control-label"},ie={class:"control-slot"},ne={class:"control-slot"},se={class:"timeline-slot"},ae={class:"control-slot",style:{"margin-left":"-3px"}},oe={style:{display:"block"}},re=Object(n["g"])("p",{style:{padding:"0",margin:"0 5px",color:"ghostwhite","font-weight":"bold","font-size":"1em"}}," Filter ",-1),le=Object(n["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"black",class:"bi bi-caret-down-fill",viewBox:"0 0 16 16"},[Object(n["g"])("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"})],-1),ce={class:"control-slot",style:{display:"flex"}},de=Object(n["g"])("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",fill:"#FFF",width:"24",height:"24",viewBox:"0 0 486.805 486.805",style:{"enable-background":"new 0 0 486.805 486.805"},"xml:space":"preserve"},[Object(n["g"])("g",null,[Object(n["g"])("path",{d:"M261.397,17.983c-88.909,0-167.372,51.302-203.909,129.073L32.072,94.282L0,109.73l52.783,109.565l109.565-52.786\n                                l-15.451-32.066L89.82,161.934c30.833-65.308,96.818-108.353,171.577-108.353c104.668,0,189.818,85.154,189.818,189.821\n                                s-85.15,189.824-189.818,189.824c-61.631,0-119.663-30.109-155.228-80.539l-29.096,20.521\n                                c42.241,59.87,111.143,95.613,184.324,95.613c124.286,0,225.407-101.122,225.407-225.419S385.684,17.983,261.397,17.983z"})])],-1),ue=Object(n["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-trash",viewBox:"0 0 16 16"},[Object(n["g"])("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),Object(n["g"])("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})],-1);Object(n["q"])();var he=Jt((function(t,e,i,s,a,o){var r=Object(n["w"])("ChannelFxTab"),l=Object(n["w"])("SampleChooser"),c=Object(n["w"])("ChannelGrid"),d=Object(n["w"])("ChannelConfig"),u=Object(n["w"])("ChannelFilter");return Object(n["p"])(),Object(n["d"])("div",{class:"max-height",id:"channel"+i.id},[Object(n["g"])("div",{class:"channel-control",id:"channelControl"+i.id},[Object(n["g"])("div",Zt,["Default"==o.mySample.name?(Object(n["p"])(),Object(n["d"])("span",te,"CHANNEL "+Object(n["y"])(o.mySample.id),1)):(Object(n["p"])(),Object(n["d"])("span",ee,Object(n["y"])(o.mySample.name),1)),Object(n["g"])("div",ie,[Object(n["g"])(r,{name:o.mySample.name,id:o.mySample.id,src:o.mySample.src},null,8,["name","id","src"])]),Object(n["g"])("div",ne,[Object(n["g"])(l,{name:o.mySample.name,id:o.mySample.id,src:o.mySample.src},null,8,["name","id","src"])]),Object(n["g"])("div",se,[Object(n["g"])(c,{name:o.mySample.name,id:o.mySample.id,src:o.mySample.src},null,8,["name","id","src"])]),Object(n["g"])("div",ae,[Object(n["g"])("div",oe,[re,Object(n["g"])("button",{style:{"background-color":"transparent"},class:"buttonArrow",id:"filterArrow"+i.id,onClick:e[1]||(e[1]=function(){return o.filterHide&&o.filterHide.apply(o,arguments)})},[le],8,["id"])]),Object(n["g"])(d,{name:o.mySample.name,id:o.mySample.id,src:o.mySample.src},null,8,["name","id","src"])]),Object(n["g"])("div",ce,[Object(n["g"])("button",{type:"button",class:"btn btn-primary",onClick:e[2]||(e[2]=function(){return o.resetGrid&&o.resetGrid.apply(o,arguments)}),style:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[de]),1!==t.$store.state.samplesChosen.length?(Object(n["p"])(),Object(n["d"])("button",{key:0,type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=function(){return o.deleteSample&&o.deleteSample.apply(o,arguments)}),style:{"border-top-left-radius":"0","border-bottom-left-radius":"0"}},[ue])):Object(n["e"])("",!0)])]),Object(n["g"])("div",{class:"filter d-none",id:"filter"+i.id},[Object(n["g"])(u,{id:o.mySample.id},null,8,["id"])],8,["id"])],8,["id"])],8,["id"])})),me=(i("7db0"),Object(n["E"])("data-v-384dcdde"));Object(n["s"])("data-v-384dcdde");var pe={class:"selector-container"},be={key:0,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-volume-up-fill",viewBox:"0 0 16 16"},ge=Object(n["g"])("path",{d:"M11.536 14.01A8.473 8.473 0 0 0 14.026 8a8.473 8.473 0 0 0-2.49-6.01l-.708.707A7.476 7.476 0 0 1 13.025 8c0 2.071-.84 3.946-2.197 5.303l.708.707z"},null,-1),fe=Object(n["g"])("path",{d:"M10.121 12.596A6.48 6.48 0 0 0 12.025 8a6.48 6.48 0 0 0-1.904-4.596l-.707.707A5.483 5.483 0 0 1 11.025 8a5.483 5.483 0 0 1-1.61 3.89l.706.706z"},null,-1),ve=Object(n["g"])("path",{d:"M8.707 11.182A4.486 4.486 0 0 0 10.025 8a4.486 4.486 0 0 0-1.318-3.182L8 5.525A3.489 3.489 0 0 1 9.025 8 3.49 3.49 0 0 1 8 10.475l.707.707zM6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06z"},null,-1),ye={key:1,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-volume-mute-fill",viewBox:"0 0 16 16"},we=Object(n["g"])("path",{d:"M6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06zm7.137 2.096a.5.5 0 0 1 0 .708L12.207 8l1.647 1.646a.5.5 0 0 1-.708.708L11.5 8.707l-1.646 1.647a.5.5 0 0 1-.708-.708L10.793 8 9.146 6.354a.5.5 0 1 1 .708-.708L11.5 7.293l1.646-1.647a.5.5 0 0 1 .708 0z"},null,-1);Object(n["q"])();var xe=me((function(t,e,i,s,a,o){var r=Object(n["w"])("CustomSelect");return Object(n["p"])(),Object(n["d"])(n["a"],null,[Object(n["g"])("div",pe,[Object(n["g"])(r,{options:o.allSamples,default:o.mySample.name,isShown:!1,id:"choiceSample"+o.mySample.id,onInput:e[1]||(e[1]=function(t){return o.selectSample(t)}),class:"selector"},null,8,["options","default","id"])]),Object(n["g"])("button",{type:"button",class:"btn btn-secondary",style:{"z-index":"2",padding:"0","margin-left":"5px"},onClick:e[2]||(e[2]=function(){return o.mute&&o.mute.apply(o,arguments)})},[o.mySample.mute?(Object(n["p"])(),Object(n["d"])("svg",ye,[we])):(Object(n["p"])(),Object(n["d"])("svg",be,[ge,fe,ve]))])],64)})),ke={components:{CustomSelect:Ht},props:["name","id","src"],computed:{allSamples:function(){var t=this.$store.state.samples,e=[];return t.forEach((function(t){e.push(t.name)})),e},mySample:function(){var t=this,e=this.$store.state.samplesChosen.find((function(e){return e.id===t.id}));return e}},methods:{mute:function(t){t.shiftKey?this.$store.commit("activeOnlyThisSong",this.id):this.$store.commit("mute",this.id)},selectSample:function(t){this.$store.commit("selectSample",{sampleName:t,sampleId:this.mySample.id}),this.$store.commit("initAudio",this.mySample.id)}}};i("9577");ke.render=xe,ke.__scopeId="data-v-384dcdde";var _e=ke,Oe=Object(n["E"])("data-v-9974e000");Object(n["s"])("data-v-9974e000");var Se={class:"knob-slot",style:{"margin-right":"10px"}},Ce=Object(n["g"])("span",{class:"knob-name"},"VOL",-1),je={class:"knob"},Be=Object(n["g"])("span",{class:"knob-label"},"0",-1),Ie=Object(n["g"])("span",{class:"knob-label"},"1",-1),Ae={class:"knob-slot"},Ee=Object(n["g"])("span",{class:"knob-name"},"PAN",-1),Ne={class:"knob"},Me=Object(n["g"])("span",{class:"knob-label"},"L",-1),Le=Object(n["g"])("span",{class:"knob-label"},"R",-1);Object(n["q"])();var Te=Oe((function(t,e,i,s,a,o){var r=Object(n["w"])("webaudio-knob");return Object(n["p"])(),Object(n["d"])(n["a"],null,[Object(n["g"])("div",Se,[Ce,Object(n["g"])("div",je,[Be,Object(n["g"])(r,{src:a.volKnobData.imageURL,min:a.volKnobData.min,max:a.volKnobData.max,width:a.volKnobData.size,height:a.volKnobData.size,value:100,id:"volume"+o.mySample.id,onInput:o.updateGain,onDblclick:o.resetGain,valuetip:1},null,8,["src","min","max","width","height","id","onInput","onDblclick"]),Ie])]),Object(n["g"])("div",Ae,[Ee,Object(n["g"])("div",Ne,[Me,Object(n["g"])(r,{src:a.panKnobData.imageURL,min:a.panKnobData.min,max:a.panKnobData.max,width:a.panKnobData.size,height:a.panKnobData.size,id:"pan"+o.mySample.id,onInput:o.updatePan,onDblclick:o.resetPan,valuetip:1},null,8,["src","min","max","width","height","id","onInput","onDblclick"]),Le])])],64)})),De=i("1424"),Pe=i.n(De),Ve={data:function(){return{volKnobData:{imageURL:Ut.a,min:0,max:100,size:40},panKnobData:{imageURL:Pe.a,min:-100,max:100,size:40}}},props:["id","name","src"],computed:{mySample:function(){var t=this,e=this.$store.state.samplesChosen.find((function(e){return e.id===t.id}));return e},getAudioCtx:function(){return this.$store.getters.getAudioCtx}},methods:{updateGain:function(){var t="volume"+this.mySample.id,e=document.getElementById(t).value/100;this.$store.commit("updateGain",{value:e,sampleId:this.mySample.id})},updatePan:function(){var t="pan"+this.mySample.id,e=document.getElementById(t).value/100;this.$store.commit("updatePan",{value:e,sampleId:this.mySample.id})},resetPan:function(){var t="pan"+this.mySample.id;document.getElementById(t).setValue(0),this.$store.commit("updatePan",{value:0,sampleId:this.mySample.id})},resetGain:function(){var t="volume"+this.mySample.id;document.getElementById(t).value=100,document.getElementById(t).shadowRoot.children[1].children[0].textContent=100,this.$store.commit("updateGain",{value:1,sampleId:this.mySample.id})}}};i("ebc8");Ve.render=Te,Ve.__scopeId="data-v-9974e000";var $e=Ve,qe=Object(n["E"])("data-v-d4395bfa"),Re=qe((function(t,e,i,s,a,o){var r=Object(n["w"])("Note");return Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(o.nbBeats,(function(t){return Object(n["p"])(),Object(n["d"])("div",{key:t,style:{display:"inline-block",height:"4rem","margin-right":"8px",width:"16vw"},class:[{start_mesure:1==t},"min-width-beat"]},[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(o.mySample.timeSubdiv,(function(e){return Object(n["p"])(),Object(n["d"])(r,{key:e+o.mySample.timeSubdiv*(t-1),indexNbSub:e,indexNbTemps:t,idSample:o.mySample.id},null,8,["indexNbSub","indexNbTemps","idSample"])})),128))],2)})),128)})),Fe=Object(n["E"])("data-v-7aa01efa"),We=Fe((function(t,e,i,s,a,o){return Object(n["p"])(),Object(n["d"])("div",{ref:"temps-ref-"+(i.indexNbSub+o.mySample.timeSubdiv*(i.indexNbTemps-1)),id:"temps-ref-"+o.mySample.id.toString()+"-"+(i.indexNbSub+o.mySample.timeSubdiv*(i.indexNbTemps-1)),name:"noteOf"+o.mySample.name+o.mySample.id,style:[{"background-color":"#888888",height:"4rem",display:"inline-block","border-radius":"5px","margin-right":"8px"},{width:15.5/o.mySample.timeSubdiv-100/o.documentWidth*8+"vw",minWidth:(271-8*o.mySample.timeSubdiv)/o.mySample.timeSubdiv+"px"}],onClick:[e[5]||(e[5]=Object(n["D"])((function(t){return o.active(i.indexNbSub+o.mySample.timeSubdiv*(i.indexNbTemps-1))}),["exact"])),e[6]||(e[6]=Object(n["D"])((function(t){return o.reset(i.indexNbSub+o.mySample.timeSubdiv*(i.indexNbTemps-1))}),["ctrl"]))]},[Object(n["g"])("div",{id:"container",ref:"container-"+(i.indexNbSub+o.mySample.timeSubdiv*(i.indexNbTemps-1)),style:{height:"inherit",width:"inherit"},onMousedown:e[1]||(e[1]=function(){return o.dragStart&&o.dragStart.apply(o,arguments)}),onMouseup:e[2]||(e[2]=function(){return o.dragEnd&&o.dragEnd.apply(o,arguments)}),onMousemove:e[3]||(e[3]=function(){return o.drag&&o.drag.apply(o,arguments)}),onMouseout:e[4]||(e[4]=function(){return o.makeMouseOutFn&&o.makeMouseOutFn.apply(o,arguments)})},[Object(n["g"])("div",{ref:"background-"+(i.indexNbSub+o.mySample.timeSubdiv*(i.indexNbTemps-1)),id:"background-"+(i.indexNbSub+o.mySample.timeSubdiv*(i.indexNbTemps-1)),style:[{height:"0px",position:"absolute","background-color":"#222",opacity:"0.2"},{width:15.5/o.mySample.timeSubdiv-100/o.documentWidth*8+"vw",minWidth:(271-8*o.mySample.timeSubdiv-4)/o.mySample.timeSubdiv+"px"}]},null,12,["id"]),Object(n["g"])("div",{class:"item",ref:"pitch-"+(i.indexNbSub+o.mySample.timeSubdiv*(i.indexNbTemps-1)),id:"pitch-"+(i.indexNbSub+o.mySample.timeSubdiv*(i.indexNbTemps-1)),style:{minWidth:(271-8*o.mySample.timeSubdiv)/o.mySample.timeSubdiv+"px"}},null,12,["id"])],544)],12,["id","name"])})),ze={data:function(){return{activeDrag:!1,currentY:30,initialY:30,yOffset:30,pitch:!1}},props:["indexNbSub","indexNbTemps","idSample"],computed:{mySample:function(){var t=this,e=this.$store.state.samplesChosen.find((function(e){return e.id===t.idSample}));return e},resetChannel:function(){if(void 0!==this.mySample)return this.mySample.resetChannel},documentWidth:function(){return document.documentElement.clientWidth}},methods:{reset:function(t){var e="temps-ref-"+t,i=this.$refs[e];i.classList.remove("active3"),i.classList.remove("active2"),i.classList.remove("active1"),this.$store.commit("setNote",{sampleId:this.idSample,noteId:t,gainNote:0})},active:function(t){if(!this.pitch){var e="temps-ref-"+t,i=this.$refs[e];i.classList.contains("active3")?(i.classList.remove("active3"),this.$store.commit("setNote",{sampleId:this.idSample,noteId:t,gainNote:0})):i.classList.contains("active1")?(i.classList.remove("active1"),i.classList.add("active2"),this.$store.commit("initAudio",this.idSample),this.$store.commit("setNote",{sampleId:this.idSample,noteId:t,gainNote:.5}),this.$store.state.isPlaying||this.$store.commit("playNote",{sampleId:this.idSample,gainNote:.5,pitchNote:this.mySample.track[t-1]["pitch"]})):i.classList.contains("active2")?(i.classList.remove("active2"),i.classList.add("active3"),this.$store.commit("initAudio",this.idSample),this.$store.commit("setNote",{sampleId:this.idSample,noteId:t,gainNote:.25}),this.$store.state.isPlaying||this.$store.commit("playNote",{sampleId:this.idSample,gainNote:.25,pitchNote:this.mySample.track[t-1]["pitch"]})):(i.classList.add("active1"),this.$store.commit("initAudio",this.idSample),this.$store.commit("setNote",{sampleId:this.idSample,noteId:t,gainNote:1}),this.$store.state.isPlaying||this.$store.commit("playNote",{sampleId:this.idSample,gainNote:1,pitchNote:this.mySample.track[t-1]["pitch"]}))}this.pitch=!1},dragStart:function(t){var e="pitch-"+(this.indexNbSub+this.mySample.timeSubdiv*(this.indexNbTemps-1)),i=this.$refs[e];if("touchstart"===t.type?this.initialY=t.touches[0].clientY-this.yOffset:this.initialY=t.clientY-this.yOffset,t.target===i){var n="temps-ref-"+(this.indexNbSub+this.mySample.timeSubdiv*(this.indexNbTemps-1)),s=this.$refs[n];s.style.cursor="ns-resize",this.activeDrag=!0,this.pitch=!0}},dragEnd:function(t){var e="temps-ref-"+(this.indexNbSub+this.mySample.timeSubdiv*(this.indexNbTemps-1)),i=this.$refs[e];i.style.cursor="initial",this.initialY=this.currentY,this.activeDrag&&this.$store.commit("setPitchNote",{valuePitch:this.currentY,max:60,noteId:this.indexNbSub+this.mySample.timeSubdiv*(this.indexNbTemps-1),sampleId:this.idSample}),this.activeDrag=!1},drag:function(t){if(this.activeDrag){var e="background-"+(this.indexNbSub+this.mySample.timeSubdiv*(this.indexNbTemps-1)),i=this.$refs[e],n="pitch-"+(this.indexNbSub+this.mySample.timeSubdiv*(this.indexNbTemps-1)),s=this.$refs[n];t.preventDefault(),"touchmove"===t.type?this.currentY=t.touches[0].clientY-this.initialY:t.clientY-this.initialY<=60&&t.clientY-this.initialY>=0&&(this.currentY=t.clientY-this.initialY),this.currentY<=34&&this.currentY>=24?(this.yOffset=this.currentY,this.currentY=30,i.style.height="0px",this.setTranslate(this.currentY,s)):(this.yOffset=this.currentY,this.currentY-30>0?(i.style.top="40px",i.style.transform="translateY(0px)",i.style.height=Math.abs(this.currentY-30)+"px"):(i.style.top="40px",i.style.transform="translateY(".concat(-Math.abs(this.currentY-30),"px)"),i.style.height=Math.abs(this.currentY-30)+"px"),this.setTranslate(this.currentY,s))}},setTranslate:function(t,e){e.style.transform="translate3d(0px, "+t+"px, 0)"},makeMouseOutFn:function(t){var e="container-"+(this.indexNbSub+this.mySample.timeSubdiv*(this.indexNbTemps-1)),i=this.$refs[e],n=this.traverseChildren(i),s=t.toElement||t.relatedTarget;~n.indexOf(s)||(this.activeDrag&&this.active(0),this.dragEnd())},traverseChildren:function(t){var e=[],i=[];i.push(t);while(i.length>0){t=i.pop();function n(t){for(var e=0;e<t.length;e++)i.push(t[e])}void 0!==t&&(e.push(t),n(t.children))}return e},resizeNote:function(){if(document.documentElement.clientWidth>1650&&void 0!==this.mySample){var t="temps-ref-"+this.mySample.id.toString()+"-"+(this.indexNbSub+this.mySample.timeSubdiv*(this.indexNbTemps-1)),e="background-"+(this.indexNbSub+this.mySample.timeSubdiv*(this.indexNbTemps-1));try{document.getElementById(t).style.width=15.5/this.mySample.timeSubdiv-100/document.documentElement.clientWidth*8+"vw",document.getElementById(e).style.width=15.5/this.mySample.timeSubdiv-100/document.documentElement.clientWidth*8+"vw"}catch(i){}}}},mounted:function(){var t="background-"+(this.indexNbSub+this.mySample.timeSubdiv*(this.indexNbTemps-1)),e=this.$refs[t],i="pitch-"+(this.indexNbSub+this.mySample.timeSubdiv*(this.indexNbTemps-1)),n=this.$refs[i];null===this.mySample.track[this.indexNbSub+this.mySample.timeSubdiv*(this.indexNbTemps-1)-1].pitch?this.setTranslate(30,n):(this.currentY=-this.mySample.track[this.indexNbSub+this.mySample.timeSubdiv*(this.indexNbTemps-1)-1].pitch/40+30,this.initialY=this.currentY,this.yOffset=this.currentY,this.setTranslate(this.currentY,n)),this.currentY-30>0?(e.style.top="40px",e.style.transform="translateY(0px)",e.style.height=Math.abs(this.currentY-30)+"px"):(e.style.top="40px",e.style.transform="translateY(".concat(-Math.abs(this.currentY-30),"px)"),e.style.height=Math.abs(this.currentY-30)+"px"),window.addEventListener("resize",this.resizeNote)},watch:{resetChannel:function(t){t&&(this.currentY=30,this.initialY=30,this.yOffset=30,this.indexNbSub+this.mySample.timeSubdiv*(this.indexNbTemps-1)===this.mySample.track.length&&this.$store.commit("resetChannel",{sampleId:this.mySample.id,newVal:!1}))}}};i("a917");ze.render=We,ze.__scopeId="data-v-7aa01efa";var Ye=ze,Ke={components:{Note:Ye},props:["id","name","src"],computed:{mySample:function(){var t=this,e=this.$store.state.samplesChosen.find((function(e){return e.id===t.id}));return e},nbBeats:function(){return this.$store.state.nbBeats}}};i("8872");Ke.render=Re,Ke.__scopeId="data-v-d4395bfa";var He=Ke,Ge=Object(n["E"])("data-v-6e8e41a6");Object(n["s"])("data-v-6e8e41a6");var Ue={class:"selector-container"};Object(n["q"])();var Qe=Ge((function(t,e,i,s,a,o){var r=Object(n["w"])("CustomSelect");return Object(n["p"])(),Object(n["d"])("div",Ue,[Object(n["g"])(r,{options:a.allNbSubdivisions,default:o.mySample.timeSubdiv.toString(),id:"nbSubDiv"+o.mySample.id,onInput:e[1]||(e[1]=function(t){return o.setNbSubdivisions(t)}),class:"selector"},null,8,["options","default","id"])])})),Xe={components:{CustomSelect:Ht},data:function(){return{allNbSubdivisions:["1","2","3","4","5","6","7","8","9","10","11","12"]}},computed:{mySample:function(){var t=this,e=this.$store.state.samplesChosen.find((function(e){return e.id===t.id}));return e},nbBeats:function(){return this.$store.state.nbBeats}},methods:{setNbSubdivisions:function(t){for(var e=document.getElementsByName("noteOf"+this.mySample.name+this.mySample.id),i=0;i<e.length;i++)e[i].classList.remove("active1"),e[i].classList.remove("active2"),e[i].classList.remove("active3");this.$store.commit("changeTrack",{sampleId:this.mySample.id,newSubDiv:parseInt(t)})}},props:["name","id","src"]};i("ddb3");Xe.render=Qe,Xe.__scopeId="data-v-6e8e41a6";var Je=Xe,Ze=Object(n["E"])("data-v-5916424c");Object(n["s"])("data-v-5916424c");var ti={style:{display:"flex"}},ei={class:"selector-container"},ii={style:{display:"block","margin-top":"15px"}},ni={style:{display:"flex"}},si={class:"knob-slot frequencySlider"},ai=Object(n["g"])("span",{class:"knob-name",style:{"margin-left":"65px","margin-bottom":"8px"}},"Freq",-1),oi={style:{display:"flex"}},ri=Object(n["f"])('<div style="height:300px;color:ghostwhite;margin:0 0.25rem 0 0.5rem;" data-v-5916424c><p style="margin:-9px 2px 0 1px;" data-v-5916424c>20kHz -</p><p style="margin:5px 2px 0 1px;" data-v-5916424c>10kHz -</p><p style="margin:4px 2px 0 10px;" data-v-5916424c>5kHz -</p><p style="margin:16px 2px 0 10px;" data-v-5916424c>2kHz -</p><p style="margin:6px 2px 0 10px;" data-v-5916424c>1kHz -</p><p style="margin:3px 2px 0 1px;" data-v-5916424c>500Hz -</p><p style="margin:16px 2px 0 1px;" data-v-5916424c>200Hz -</p><p style="margin:6px 2px 0 1px;" data-v-5916424c>100Hz -</p><p style="margin:5px 2px 0 10px;" data-v-5916424c>50Hz -</p><p style="margin:15px 2px 0 10px;" data-v-5916424c>20Hz -</p></div>',1),li={class:"knob"},ci={style:{display:"flex",margin:"1.4rem 0 0 1.1rem"}},di=Object(n["g"])("div",{class:"separation"},null,-1),ui={class:"knob-slot",style:{"margin-left":"27px"}},hi=Object(n["g"])("span",{class:"knob-name"},"Q",-1),mi={class:"knob"},pi=Object(n["g"])("span",{class:"knob-label"},"0.01",-1),bi=Object(n["g"])("span",{class:"knob-label"},"10.00",-1);Object(n["q"])();var gi=Ze((function(t,e,i,s,a,o){var r=Object(n["w"])("CustomSelect"),l=Object(n["w"])("webaudio-slider"),c=Object(n["w"])("PointAutomation"),d=Object(n["w"])("webaudio-knob");return Object(n["p"])(),Object(n["d"])("div",ti,[Object(n["g"])("div",{style:{height:"450px","margin-top":"1rem"},id:"divCanvas"+o.mySample.id},[Object(n["g"])("div",ei,[Object(n["g"])(r,{options:a.allFilters,default:o.mySample.filterName,numberOfLetters:8,onInput:e[1]||(e[1]=function(t){return o.setFilter(t)}),class:"selector"},null,8,["options","default"])]),Object(n["g"])("div",ii,[Object(n["g"])("canvas",{id:"freqResponse"+o.mySample.id,width:"200",height:"300"},null,8,["id"])])],8,["id"]),Object(n["g"])("div",{class:"control-slot",style:{margin:"1rem 0 0 0.3rem"},id:"controlSlotFilter"+o.mySample.id},[Object(n["g"])("div",ni,[Object(n["g"])("div",si,[ai,Object(n["g"])("div",oi,[ri,Object(n["g"])("div",li,[Object(n["g"])(l,{src:a.freqKnobData.imageURL,knobsrc:a.freqKnobData.imageButtonUrl,min:a.freqKnobData.min,max:a.freqKnobData.max,width:a.freqKnobData.width,height:a.freqKnobData.height,step:a.freqKnobData.step,id:"freq"+i.id,valuetip:1,conv:"(Math.pow(10,x)*20).toFixed(0)",direction:"vert",onInput:o.setFrequencyFilter},null,8,["src","knobsrc","min","max","width","height","step","id","onInput"])])])]),Object(n["g"])("div",ci,[Object(n["g"])("div",{style:[{"background-color":"black",height:"300px",display:"flex"},{width:16*t.$store.state.nbBeats+8*(t.$store.state.nbBeats-1)*100/o.documentWidth-.9+"vw",minWidth:271*t.$store.state.nbBeats+8*(t.$store.state.nbBeats-1)-8+"px"}],id:"containerAutomation"},[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(14*t.$store.state.nbBeats,(function(e){return Object(n["p"])(),Object(n["d"])(c,{key:e,id:o.mySample.id,idPoint:e,x:e,y:98.33*(3-Math.log10(o.mySample.frequencyInTime[e-1]/20)),freqInitial:a.frequency,color:t.filterColor},null,8,["id","idPoint","x","y","freqInitial","color"])})),128))],4)])]),di,Object(n["g"])("div",ui,[hi,Object(n["g"])("div",mi,[pi,Object(n["g"])(d,{src:a.QKnobData.imageURL,knobsrc:a.QKnobData.imageButtonUrl,min:a.QKnobData.min,max:a.QKnobData.max,width:a.QKnobData.size,height:a.QKnobData.size,step:a.QKnobData.step,id:"Q"+i.id,value:1,valuetip:1,onDblclick:e[2]||(e[2]=function(t){return o.setQFilter(!0)}),onInput:e[3]||(e[3]=function(t){return o.setQFilter(!1)})},null,8,["src","knobsrc","min","max","width","height","step","id"]),bi])])],8,["id"])])})),fi=(i("cfc3"),i("b680"),i("9b4a")),vi=i("7854"),yi=i.n(vi),wi=i("dd82"),xi=i.n(wi),ki=Object(n["E"])("data-v-22d592ff"),_i=ki((function(t,e,i,s,a,o){return Object(n["p"])(),Object(n["d"])("div",{id:"container",ref:"container-"+i.idPoint,style:{height:"inherit",width:"10%"},onMousedown:e[1]||(e[1]=function(){return o.dragStart&&o.dragStart.apply(o,arguments)}),onMouseup:e[2]||(e[2]=function(){return o.dragEnd&&o.dragEnd.apply(o,arguments)}),onMousemove:e[3]||(e[3]=function(){return o.drag&&o.drag.apply(o,arguments)}),onMouseout:e[4]||(e[4]=function(){return o.makeMouseOutFn&&o.makeMouseOutFn.apply(o,arguments)})},[Object(n["g"])("div",{style:[{width:"100%",height:"5px",cursor:"ns-resize"},{backgroundColor:o.mySampleColor}],ref:"automation"+o.mySample.id+i.idPoint},null,4),Object(n["g"])("div",{ref:"background-automation-"+o.mySample.id+i.idPoint,style:[{position:"relative",top:"295px",opacity:"0.2",width:"100%"},{backgroundColor:o.mySampleColor,height:Math.abs(295-a.currentY)+"px"}]},null,4)],544)})),Oi=(i("1276"),i("ac1f"),{data:function(){return{activeDrag:!1,currentY:null,initialY:null,yOffset:null,automation:!1,filterDrawPoint:null,frequency:null}},props:["id","idPoint","x","y","freqInitial"],computed:{mySample:function(){var t=this,e=this.$store.state.samplesChosen.find((function(e){return e.id===t.id}));if(e)return e},mySampleColor:function(){var t=this,e=this.$store.state.samplesChosen.find((function(e){return e.id===t.id}));if(e)return e.filterColor},drawFilterChange:function(){if(void 0!==this.mySample)return this.mySample.drawFilter},frequencyChange:function(){if(void 0!==this.mySample)return this.mySample.fxParams.frequency}},methods:{dragStart:function(t){var e="automation"+this.mySample.id+this.idPoint,i=this.$refs[e];if("touchstart"===t.type?this.initialY=t.touches[0].clientY-this.yOffset:this.initialY=t.clientY-this.yOffset,t.target===i)if(window.event.ctrlKey)this.dragClick(t);else{var n=document.getElementById("containerAutomation");n.style.cursor="ns-resize",this.activeDrag=!0,this.automation=!0}t&&!1===this.activeDrag&&(this.mySample.drawFilter=!0,this.dragClick(t))},dragEnd:function(t){t&&(this.mySample.drawFilter=!1);var e=document.getElementById("containerAutomation");e.style.cursor="initial",this.initialY=this.currentY,this.activeDrag=!1},drag:function(t){var e="automation"+this.mySample.id+this.idPoint,i=this.$refs[e],n="background-automation-"+this.mySample.id+this.idPoint,s=this.$refs[n];this.activeDrag&&(t.preventDefault(),t.clientY-this.initialY<=300-parseInt(i.style.height.split("p"))&&t.clientY-this.initialY>=0&&(this.currentY=t.clientY-this.initialY,s.style.transform="translateY(".concat(-Math.abs(296-this.currentY),"px)"),s.style.height=Math.abs(295-this.currentY)+"px"),this.yOffset=this.currentY,this.setTranslate(this.currentY,i),this.frequency=(20*Math.pow(10,3-this.currentY/98.33)).toFixed(0),this.mySample.frequencyInTime[this.idPoint-1]=parseInt(this.frequency))},dragClick:function(t){if(this.mySample.drawFilter){var e="automation"+this.mySample.id+this.idPoint,i=this.$refs[e],n="background-automation-"+this.mySample.id+this.idPoint,s=this.$refs[n],a="container-"+this.idPoint,o=this.$refs[a],r=document.getElementById("channelSample"),l=t.clientX-o.offsetLeft-window.scrollX+r.scrollLeft+(this.idPoint-1)*i.clientWidth-r.offsetParent.offsetLeft,c=t.clientY+window.scrollY-o.offsetTop+r.scrollTop-r.offsetParent.offsetTop;l<(this.idPoint-1)*i.clientWidth+i.clientWidth&&l>(this.idPoint-1)*i.clientWidth&&(t.preventDefault(),c<=300-parseInt(i.style.height.split("p"))&&c>=0&&(this.currentY=c,s.style.transform="translateY(".concat(-Math.abs(296-this.currentY),"px)"),s.style.height=Math.abs(295-this.currentY)+"px"),this.yOffset=this.currentY,this.setTranslate(this.currentY,i),this.frequency=(20*Math.pow(10,3-this.currentY/98.33)).toFixed(0),this.mySample.frequencyInTime[this.idPoint-1]=parseInt(this.frequency),window.event.ctrlKey&&(this.mySample.fxParams.frequency=this.frequency)),(l<0||l>14*this.$store.state.nbBeats*i.clientWidth+12||c<0||c>parseInt(document.getElementById("containerAutomation").style.height.split("p")[0]))&&(console.log(l,14*this.$store.state.nbBeats*i.clientWidth),this.mySample.drawFilter&&(this.mySample.drawFilter=!1))}},setTranslate:function(t,e){e.style.transform="translate3d(0px, "+t+"px, 0)"},makeMouseOutFn:function(t){var e="container-"+this.idPoint,i=this.$refs[e],n="background-automation-"+this.mySample.id+this.idPoint,s=this.$refs[n],a=this.traverseChildren(i);a.push(this.traverseChildren(s));var o=t.toElement||t.relatedTarget;~a.indexOf(o)||this.dragEnd()},traverseChildren:function(t){var e=[],i=[];i.push(t);while(i.length>0){t=i.pop();e.push(t),n(t.children)}function n(t){for(var e=0;e<t.length;e++)i.push(t[e])}return e}},watch:{drawFilterChange:function(t){t?window.addEventListener("mousemove",this.dragClick,!1):window.removeEventListener("mousemove",this.dragClick,!1)},frequencyChange:function(t){if(void 0!==window.event&&void 0!==this.mySample&&window.event.ctrlKey){var e="automation"+this.mySample.id+this.idPoint,i=this.$refs[e];this.frequency=t,this.currentY=98.33*(3-Math.log10(t/20)),this.mySample.frequencyInTime[this.idPoint-1]=parseInt(t),this.initialY=this.currentY,this.yOffset=this.currentY,this.setTranslate(this.currentY,i);var n="background-automation-"+this.mySample.id+this.idPoint,s=this.$refs[n];s.style.transform="translateY(".concat(-Math.abs(295-this.currentY),"px)"),s.style.height=Math.abs(295-this.currentY)+"px"}}},mounted:function(){var t="automation"+this.mySample.id+this.idPoint,e=this.$refs[t];this.currentY=this.y,this.initialY=this.y,this.yOffset=this.y,this.setTranslate(this.y,e);var i="background-automation-"+this.mySample.id+this.idPoint,n=this.$refs[i];n.style.transform="translateY(".concat(-Math.abs(295-this.currentY),"px)"),n.style.height=Math.abs(295-this.currentY)+"px"}});Oi.render=_i,Oi.__scopeId="data-v-22d592ff";var Si=Oi;fi["f"].register(fi["a"],fi["l"],fi["c"],fi["p"],fi["b"],fi["d"],fi["h"],fi["k"],fi["o"],fi["q"],fi["r"],fi["t"],fi["e"],fi["m"],fi["n"],fi["s"],fi["u"],fi["v"],fi["g"],fi["i"],fi["j"],fi["w"],fi["x"]);var Ci={components:{PointAutomation:Si,CustomSelect:Ht},data:function(){return{frequency:20,Q:1,freqKnobData:{imageURL:yi.a,imageButtonUrl:xi.a,min:0,max:3,step:1e-4,width:20,height:300},QKnobData:{imageURL:Ut.a,min:.01,max:10,step:.01,size:40},canvasData:{height:300,range:500},cercle:[],recCanvas:null,allFilters:["Bypass","Lowpass","Highpass","Bandpass"],chart:null,chartIsDrawing:!1,oldFreq:20,oldFilter:"Bypass",oldQ:1}},props:["id"],computed:{mySample:function(){var t=this,e=this.$store.state.samplesChosen.find((function(e){return e.id===t.id}));return e},frequencyChange:function(){if(void 0!==this.mySample)return this.mySample.fxParams.frequency},isPlaying:function(){return this.$store.state.isPlaying},documentWidth:function(){return document.documentElement.clientWidth}},methods:{drawFrequencyResponse:function(){if((this.oldFreq!==this.mySample.audioNode.filter.frequency.value||this.oldFilter!==this.mySample.filterName||this.oldQ!==this.mySample.audioNode.filter.Q.value)&&!this.$store.state.isPlaying){this.oldFreq=this.mySample.audioNode.filter.frequency.value,this.oldFilter=this.mySample.filterName,this.oldQ=this.mySample.audioNode.filter.Q.value;var t=document.getElementById("freqResponse"+this.mySample.id);null!==this.chart&&this.chart.destroy();for(var e=new Float32Array(400),i=new Float32Array(400),n=new Float32Array(400),s=0;s<e.length;s++)e[s]=s<10?20+2*s:s<50?40+5*(s-10):s<100?290+10*(s-60):s<150?790+20*(s-110):s<200?1790+40*(s-160):3790+83*(s-210);this.mySample.audioNode.filter.getFrequencyResponse(e,i,n);for(s=0;s<i.length;s++)i[s]=20*Math.log(i[s]);var a={labels:e,datasets:[{label:"Filtre",backgroundColor:this.mySample.filterColor,borderColor:this.mySample.filterColor,data:i,pointRadius:1},{label:"0dB",backgroundColor:"rgb(255, 255, 255)",borderColor:"rgb(255, 255, 255)",data:new Float32Array(400),pointRadius:1}]};this.chart=new fi["f"](t.getContext("2d"),{type:"line",data:a,options:{plugins:{title:{display:!0,text:"Rponse frquentielle",padding:{bottom:30}},legend:{display:!1}},scales:{y:{max:20,min:-100,title:{display:!0,text:"dB",padding:2}},x:{type:"logarithmic",min:20,max:2e4,title:{display:!0,text:"Hz"}}}}}),t.style.width="200px",t.style.height="300px"}this.chartIsDrawing=!1},setFilter:function(t){var e=this.mySample;"Bypass"===t?(e.filterColor="#333333",e.audioNode.filter.type="allpass"):"Lowpass"===t?(e.filterColor="red",e.audioNode.filter.type=t.toLowerCase()):"Highpass"===t?(e.filterColor="green",e.audioNode.filter.type=t.toLowerCase()):(e.filterColor="blue",e.audioNode.filter.type=t.toLowerCase()),e.filterName=t;var i=parseFloat(document.getElementById("freq"+e.id).value);i=(20*Math.pow(10,i)).toFixed(0),e.audioNode.filter.frequency.setValueAtTime(i,this.$store.state.audioCtx.currentTime),e.audioNode.filter.Q.setValueAtTime(parseFloat(document.getElementById("Q"+e.id).value),this.$store.state.audioCtx.currentTime),this.chartIsDrawing||(this.chartIsDrawing=!0,setTimeout(this.drawFrequencyResponse,1200))},setFrequencyFilter:function(){if(this.mySample.sliderFreqDisabled){var t=this.mySample;t.audioNode.filter.frequency.value=t.fxParams.frequency;var e="freq"+this.id,i=document.getElementById(e);i.setValue(Math.log10(t.fxParams.frequency/20))}else{t=this.mySample;var n=parseFloat(document.getElementById("freq"+t.id).value);n=(20*Math.pow(10,n)).toFixed(0),t.audioNode.filter.frequency.setValueAtTime(n,this.$store.state.audioCtx.currentTime),t.fxParams.frequency=n,this.frequency=n}this.chartIsDrawing||(this.chartIsDrawing=!0,setTimeout(this.drawFrequencyResponse,1200))},setQFilter:function(t){var e=this.mySample;if(t){e.audioNode.filter.Q.setValueAtTime(1,this.$store.state.audioCtx.currentTime),this.Q=1;var i=document.getElementById("Q"+e.id);i.setValue(1)}else e.audioNode.filter.Q.setValueAtTime(parseFloat(document.getElementById("Q"+e.id).value),this.$store.state.audioCtx.currentTime),this.Q=parseFloat(document.getElementById("Q"+e.id).value);this.chartIsDrawing||(this.chartIsDrawing=!0,setTimeout(this.drawFrequencyResponse,1200))},resizeAutomation:function(){document.documentElement.clientWidth>=1670?document.getElementById("containerAutomation").style.width=16*this.$store.state.nbBeats+8*(this.$store.state.nbBeats-1)*100/document.documentElement.clientWidth-.9+"vw":document.getElementById("containerAutomation").style.width=271*this.$store.state.nbBeats+8*(this.$store.state.nbBeats-1)-8+"px"}},watch:{frequencyChange:function(t,e){if(void 0!==this.mySample){var i=this.mySample;i.audioNode.filter.frequency.value=t;var n="freq"+this.id,s=document.getElementById(n);s.value=Math.log10(t/20)}},isPlaying:function(t){document.getElementById("freq"+this.mySample.id).style.opacity=t?"0.5":"1"}},mounted:function(){this.drawFrequencyResponse(),window.addEventListener("resize",this.resizeAutomation)}};i("0167");Ci.render=gi,Ci.__scopeId="data-v-5916424c";var ji=Ci,Bi={components:{SampleChooser:_e,ChannelFxTab:$e,ChannelGrid:He,ChannelConfig:Je,ChannelFilter:ji},data:function(){return{filter:!1}},props:["name","id","src"],computed:{mySample:function(){var t=this,e=this.$store.state.samplesChosen.find((function(e){return e.id===t.id}));return e},nbBeats:function(){return this.$store.state.nbBeats},documentWidth:function(){return document.documentElement.clientWidth}},methods:{resizeDiv:function(){void 0!==this.mySample&&(document.getElementById("channel"+this.mySample.id).style.width=35.8+this.nbBeats*(1/16)*(.16*document.documentElement.clientWidth)+this.nbBeats*(1/16)*(.005*document.documentElement.clientWidth)+"rem"),document.documentElement.clientWidth<1670&&(document.getElementById("channel"+this.mySample.id).style.width=279*this.nbBeats+580+"px")},filterHide:function(){var t="filterArrow"+this.id;document.getElementById(t).disabled=!0;var e="channel"+this.id,i="channelControl"+this.id,n="filter"+this.id;this.filter?(document.getElementById(t).classList.remove("activeArrow"),window.setTimeout((function(){document.getElementById(n).classList.add("d-none"),document.getElementById(e).style.overflowY="visible"}),500),document.getElementById(e).style.maxHeight="110px",document.getElementById(e).style.overflowY="hidden",document.getElementById(i).style.maxHeight="90px",this.filter=!1):(document.getElementById(t).classList.add("activeArrow"),document.getElementById(n).classList.remove("d-none"),document.getElementById(e).style.maxHeight="550px",document.getElementById(e).style.overflowY="hidden",document.getElementById(i).style.maxHeight="530px",this.filter=!0),setTimeout((function(){document.getElementById(t).disabled=!1}),500)},deleteSample:function(){this.$store.commit("deleteSamplesChosen",this.mySample.id)},resetGrid:function(){for(var t=0;t<this.mySample.timeSubdiv*this.nbBeats;t++){var e=t+1,i="temps-ref-"+this.mySample.id.toString()+"-"+e.toString(),n=document.getElementById(i);n.classList.remove("active3"),n.classList.remove("active2"),n.classList.remove("active1"),this.$store.commit("setNote",{sampleId:this.mySample.id,noteId:e,gainNote:0});var s="background-"+e,a=document.getElementById(s);a.style.top="40px",a.style.transform="translateY(0px)",a.style.height="0px";var o="pitch-"+e,r=document.getElementById(o);r.style.transform="translate3d(0px, 30px, 0)",this.$store.commit("resetChannel",{sampleId:this.mySample.id,newVal:!0})}}},mounted:function(){window.addEventListener("resize",this.resizeDiv),document.documentElement.clientWidth<1670?document.getElementById("channel"+this.mySample.id).style.width=279*this.nbBeats+580+"px":document.getElementById("channel"+this.mySample.id).style.width=35.8+this.nbBeats*(1/16)*(.16*document.documentElement.clientWidth)+this.nbBeats*(1/16)*(.005*document.documentElement.clientWidth)+"rem"},watch:{nbBeats:function(t){void 0!==this.mySample&&(document.documentElement.clientWidth<1670?document.getElementById("channel"+this.mySample.id).style.width=279*t+580+"px":document.getElementById("channel"+this.mySample.id).style.width=35.8+t*(1/16)*(.16*document.documentElement.clientWidth)+t*(1/16)*(.005*document.documentElement.clientWidth)+"rem")}}};i("bf8e");Bi.render=he,Bi.__scopeId="data-v-2a25062f";var Ii=Bi,Ai=Object(n["E"])("data-v-05ce46a8");Object(n["s"])("data-v-05ce46a8");var Ei={class:"progress",id:"progress"};Object(n["q"])();var Ni=Ai((function(t,e,i,s,a,o){return Object(n["p"])(),Object(n["d"])("div",{style:[{display:"grid","align-items":"start",position:"relative",height:"30px"},{gridTemplateColumns:"26.25rem "+22*o.nbBeats+"rem auto",width:16.5*o.nbBeats+1+"vw"}]},[Object(n["g"])("div",{class:"divProgress",style:{width:16.5*o.nbBeats+"vw",minWidth:279*o.nbBeats+"px"},id:"barProgress"},[Object(n["g"])("div",Ei,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(o.nbBeats,(function(t){return Object(n["p"])(),Object(n["d"])("p",{key:t,id:"indicator"+t,class:"numberOfMesure",style:[1===t?{"margin-left":"0.25vw"}:{"margin-left":Math.max(o.documentWidth/100*16.42*(t-1)-o.documentWidth/100*.25,279*(t-1))+"px"}]},Object(n["y"])(t),13,["id"])})),128))])],4)],4)})),Mi={computed:{nbBeats:function(){return this.$store.state.nbBeats},documentWidth:function(){return document.documentElement.clientWidth}},methods:{resizeIndicator:function(){for(var t=1;t<this.$store.state.nbBeats;t++)document.getElementById("indicator"+(t+1)).style.marginLeft=Math.max(document.documentElement.clientWidth/100*16.42*t-document.documentElement.clientWidth/100*.25,279*t)+"px"}},mounted:function(){window.addEventListener("resize",this.resizeIndicator)}};i("304b");Mi.render=Ni,Mi.__scopeId="data-v-05ce46a8";var Li=Mi,Ti=i("4663"),Di={name:"Sequencer",beforeCreate:function(){document.querySelector("body").setAttribute("style","min-width: 1700px")},components:{Master:Xt,Channel:Ii,Timebar:Li},computed:{samplesChosen:function(){return this.$store.state.samplesChosen},getAudioCtx:function(){return this.$store.getters.getAudioCtx}},methods:{addChannel:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.commit("addSamplesChosen",{sampleName:"Default",src:null});case 1:case"end":return e.stop()}}),e)})))()},fetchFile:function(t){return new Promise((function(e,i){fetch(t).then((function(t){t.ok&&e(t.blob()),i(new Error("Network response was not ok."))}))}))},readUploadedFile:function(t){var e=new FileReader;return new Promise((function(i,n){e.onerror=function(){e.abort(),n(new DOMException("Problem parsing input file."))},e.onload=function(){i(e.result)},e.readAsArrayBuffer(t)}))},createAudioBuffer:function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=e.getAudioCtx,i.abrupt("return",new Promise((function(e,i){n.decodeAudioData(t,e,i)})));case 2:case"end":return i.stop()}}),i)})))()},createSample:function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function i(){var n,s,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,e.fetchFile(t.file);case 2:return n=i.sent,i.next=5,e.readUploadedFile(n);case 5:return s=i.sent,i.next=8,e.createAudioBuffer(s);case 8:a=i.sent,e.$store.commit("addSamples",{sampleName:t.name,buffer:a});case 10:case"end":return i.stop()}}),i)})))()},initSequencer:function(){this.$store.commit("addDefaultSample",null);for(var t=0;t<3;t++)this.$store.commit("addSamplesChosen",{sampleName:"Default",src:null})}},mounted:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$store.commit("createAudioCtx"),t.initSequencer(),t.$store.state.initWithKit)for(i=0;i<t.$store.state.kitList.length;i++)n=t.$store.state.kitList[i],t.createSample(n);new Ti["Sortable"](document.querySelectorAll(".channels-bodyWithoutButton"),{draggable:".channel-draggable",handle:".channel-control-label",mirror:{constrainDimensions:!0}});case 4:case"end":return e.stop()}}),e)})))()}};i("afa7");Di.render=f,Di.__scopeId="data-v-2ce6095b";var Pi=Di;function Vi(t,e,i,n,s,a){return null}var $i={computed:{waitKit:function(){this.$store.state.initWithKit?this.$router.push("/"):setTimeout(this.waitKit,10)}},props:["id"],mounted:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://banana-cobbler-95780.herokuapp.com/api/kit/"+t.id).then((function(t){return t.json()})).then((function(e){e=JSON.parse(e.samples);var i=[];e.forEach((function(t){t.fields.file="https://vlmboiteason.s3.amazonaws.com/static/media/"+t.fields.file,i.push(t.fields)})),t.$store.commit("initKit",i)}));case 2:t.waitKit;case 3:case"end":return e.stop()}}),e)})))()}};$i.render=Vi;var qi=$i,Ri=[{path:"/",name:"Sequencer",component:Pi},{path:"/initKit/:id",name:"InitKit",component:qi,props:!0}],Fi=Object(l["a"])({history:Object(l["b"])("/API_Bason/"),routes:Ri}),Wi=Fi,zi=(i("cb29"),i("a434"),i("5502")),Yi=Object(zi["a"])({devtools:!0,state:{initWithKit:!1,kitList:null,audioCtx:null,limiter:null,masterGain:null,samples:[],samplesChosen:[],isPlaying:!1,previousBpm:80,bpm:80,lookAhead:10,loopSeeTime:null,scheduleAheadTime:.1,schedule:[],startTime:0,startTimeAutomation:0,analyser:null,recorder:null,record:!1,endOfRecord:!1,nbBeatsRecord:1,nbBeatsCurrentRecord:0,isRecording:!1,optionRecorder:null,stream:null,chunks:[],downloadAvailable:!1,nbBeats:4,timerAutomation:null,oldSourceNodes:[]},getters:{getAudioCtx:function(t){return"suspended"===t.audioCtx.state&&t.audioCtx.resume(),t.audioCtx},getCurrentBeat:function(t){var e=(t.audioCtx.currentTime-t.startTime)*(t.bpm/60);return e%t.nbBeats+1}},mutations:{createAudioCtx:function(t){var e=new(window.AudioContext||window.webkitAudioContext);"suspended"===e.state&&e.resume(),t.audioCtx=e,t.masterGain=t.audioCtx.createGain(),t.analyser=t.audioCtx.createAnalyser(),t.limiter=t.audioCtx.createDynamicsCompressor(),t.limiter.attack.setValueAtTime(0,t.audioCtx.currentTime),t.limiter.ratio.setValueAtTime(20,t.audioCtx.currentTime),t.limiter.threshold.setValueAtTime(-3,t.audioCtx.currentTime),t.limiter.release.setValueAtTime(.05,t.audioCtx.currentTime),t.masterGain.connect(t.limiter),t.limiter.connect(t.analyser),t.analyser.connect(t.audioCtx.destination)},addDefaultSample:function(t,e){t.samples.push({id:1,name:"Default",src:e});for(var i=[],n=0;n<4*t.nbBeats;n++)i[n]={gain:0,pitch:null,id:n+1};var s={id:1,name:"Default",src:e,timeSubdiv:4,audioNode:null,mute:!1,fxParams:{gainValue:1,panValue:0,frequency:20},track:i,currentNote:0,nextNoteTime:0,timerID:null,record:null,drawFilter:!1,frequencyInTime:new Array(56).fill(20),sliderFreqDisabled:!1,QKnobDisabled:!1,filterColor:"#333333",filterName:"Bypass",resetChannel:!1};t.samplesChosen.push(s);var a=t.audioCtx.createBufferSource();a.buffer=s.src;var o=t.audioCtx.createGain(),r=t.audioCtx.createStereoPanner(),l=t.audioCtx.createBiquadFilter();l.type="allpass",o.connect(r),r.connect(l),l.connect(t.masterGain),s.audioNode={source:a,gain:o,pan:r,filter:l},s.audioNode.gain.gain.setValueAtTime(s.fxParams.gainValue,t.audioCtx.currentTime),s.audioNode.pan.pan.setValueAtTime(s.fxParams.panValue,t.audioCtx.currentTime),s.audioNode.source.connect(s.audioNode.gain)},addSamples:function(t,e){var i=e.sampleName,n=e.buffer,s=t.samples.length+1,a=i.split(".")[0],o={name:a,id:s,src:n};t.samples.push(o)},resetChannel:function(t,e){var i=e.sampleId,n=e.newVal,s=t.samplesChosen.find((function(t){return t.id===i}));s.resetChannel=n},setBpm:function(t,e){t.bpm=e},updateNbBeats:function(t,e){isNaN(e)&&(e=1),t.samplesChosen.forEach((function(i){for(var n=0;n<i.timeSubdiv*Math.abs(e-t.nbBeats);n++)e>t.nbBeats?i.track.push({gain:0,pitch:null,id:i.track.length+1}):i.track.pop({gain:0,pitch:null,id:i.track.length+1});if(e>t.nbBeats)for(var s=0;s<14*(e-t.nbBeats);s++)i.frequencyInTime.push(20);else for(s=0;s<14*(t.nbBeats-e);s++)i.frequencyInTime.pop()})),t.nbBeats=e;var i=16.35*t.nbBeats+"vw";document.querySelector(".divProgress").style.width=i},updateNbBeatsRecord:function(t,e){t.nbBeatsRecord=e},addSamplesChosen:function(t,e){var i=e.sampleName,n=e.src;if(0==t.samplesChosen.length)var s=1;else s=t.samplesChosen[t.samplesChosen.length-1]["id"]+1;for(var a=[],o=0;o<4*t.nbBeats;o++)a[o]={gain:0,pitch:null,id:o+1};var r={id:s,name:i,src:n,timeSubdiv:4,audioNode:null,mute:!1,fxParams:{gainValue:1,panValue:0,frequency:20},track:a,currentNote:0,nextNoteTime:0,timerID:null,record:null,drawFilter:!1,frequencyInTime:new Array(56).fill(20),sliderFreqDisabled:!1,QKnobDisabled:!1,filterColor:"#333333",filterName:"Bypass",resetChannel:!1},l=t.audioCtx.createBufferSource();l.buffer=r.src;var c=t.audioCtx.createGain(),d=t.audioCtx.createStereoPanner(),u=t.audioCtx.createBiquadFilter();u.type="allpass",c.connect(d),d.connect(u),u.connect(t.masterGain),r.audioNode={source:l,gain:c,pan:d,filter:u},r.audioNode.gain.gain.setValueAtTime(r.fxParams.gainValue,t.audioCtx.currentTime),r.audioNode.pan.pan.setValueAtTime(r.fxParams.panValue,t.audioCtx.currentTime),r.audioNode.source.connect(r.audioNode.gain),t.samplesChosen.push(r)},deleteSamplesChosen:function(t,e){var i=t.samplesChosen.find((function(t){return t.id===e}));t.samplesChosen.splice(t.samplesChosen.indexOf(i),1)},resetSamplesChosen:function(t){t.samplesChosen=[]},selectSample:function(t,e){var i=e.sampleName,n=e.sampleId,s=t.samples.find((function(t){return t.name===i})),a=t.samplesChosen.find((function(t){return t.id===n}));a.name=s.name,a.src=s.src},initAudio:function(t,e){var i=t.samplesChosen.find((function(t){return t.id===e}));if(null===i.audioNode){var n=t.audioCtx.createGain(),s=t.audioCtx.createStereoPanner();n.connect(s),s.connect(t.masterGain),i.audioNode={gain:n,pan:s}}i.audioNode.gain.gain.setValueAtTime(i.fxParams.gainValue,t.audioCtx.currentTime),i.audioNode.pan.pan.setValueAtTime(i.fxParams.panValue,t.audioCtx.currentTime)},activeOnlyThisSong:function(t,e){var i=!1,n=t.samplesChosen.find((function(t){return t.id===e}));if(!1===n["mute"])for(var s=0;s<t.samplesChosen.length;s++)if(t.samplesChosen[s]["id"]!==e){if(!0!==t.samplesChosen[s]["mute"]){i=!1;break}i=!0}for(s=0;s<t.samplesChosen.length;s++)t.samplesChosen[s]["id"]!==e?(t.samplesChosen[s]["mute"]=!i,this.commit("updateGain",{value:document.getElementById("volume"+t.samplesChosen[s]["id"]).value/100,sampleId:t.samplesChosen[s]["id"]})):(t.samplesChosen[s]["mute"]=!1,this.commit("updateGain",{value:document.getElementById("volume"+t.samplesChosen[s]["id"]).value/100,sampleId:t.samplesChosen[s]["id"]}))},mute:function(t,e){var i=t.samplesChosen.find((function(t){return t.id===e}));i.mute=!i.mute,this.commit("updateGain",{value:document.getElementById("volume"+i.id).value/100,sampleId:e})},updateGain:function(t,e){var i=e.value,n=e.sampleId,s=t.samplesChosen.find((function(t){return t.id===n}));s.mute?s.fxParams.gainValue=0:s.fxParams.gainValue=i,s.audioNode.gain.gain.setValueAtTime(s.fxParams.gainValue,t.audioCtx.currentTime)},updateGainMaster:function(t,e){t.masterGain.gain.setValueAtTime(e,t.audioCtx.currentTime)},updatePan:function(t,e){var i=e.value,n=e.sampleId,s=t.samplesChosen.find((function(t){return t.id===n}));s.fxParams.panValue=i,s.audioNode.pan.pan.setValueAtTime(s.fxParams.panValue,t.audioCtx.currentTime)},playNote:function(t,e){var i=e.sampleId,n=e.gainNote,s=e.pitchNote,a=void 0===s?null:s,o=t.samplesChosen.find((function(t){return t.id===i}));o.audioNode.source=t.audioCtx.createBufferSource(),o.audioNode.source.buffer=o.src,o.audioNode.gain.gain.setValueAtTime(o.fxParams.gainValue*n,t.audioCtx.currentTime),o.audioNode.source.detune.value=null!==a?a:0,o.audioNode.source.connect(o.audioNode.gain),o.audioNode.source.start(),t.oldSourceNodes.push(o.audioNode.source)},setNote:function(t,e){var i=e.sampleId,n=e.noteId,s=e.gainNote,a=t.samplesChosen.find((function(t){return t.id===i})),o=a.track.find((function(t){return t.id===n}));o.gain=s},changeTrack:function(t,e){for(var i=e.sampleId,n=e.newSubDiv,s=t.samplesChosen.find((function(t){return t.id===i})),a=[],o=0;o<n*t.nbBeats;o++)a[o]={gain:0,pitch:null,id:o+1};s.track=a,s.timeSubdiv=n},setPitchNote:function(t,e){var i=e.valuePitch,n=e.max,s=e.noteId,a=e.sampleId,o=t.samplesChosen.find((function(t){return t.id===a})),r=o.track.find((function(t){return t.id===s})),l=1200/(n/2);r.pitch=-(i-n/2)*l},nextNote:function(t,e){var i=t.samplesChosen.find((function(t){return t.id===e})),n=60/(i.track.length/t.nbBeats*t.bpm);i.nextNoteTime+=n,i.currentNote++,i.currentNote===i.track.length&&(i.currentNote=0)},initKit:function(t,e){t.kitList=e,t.initWithKit=!0}},actions:{scheduleNote:function(t,e){var i=t.commit,n=t.dispatch,s=t.state,a=e.beatNumber,o=e.time,r=e.channelId,l=e.record,c=void 0===l?null:l;s.schedule.push({note:a,time:o});var d=s.samplesChosen.find((function(t){return t.id===r}));if(c&&1===d.record&&0===a){d.record=2;for(var u=!1,h=0;h<s.samplesChosen.length;h++){if(2!==s.samplesChosen[h].record){u=!1;break}u=!0}if(u&&(s.nbBeatsCurrentRecord+=1,s.nbBeatsCurrentRecord===s.nbBeatsRecord?s.endOfRecord=!0:s.samplesChosen.forEach((function(t){t.record=null}))),s.endOfRecord)return s.recorder.stop(),n("stop"),0}c&&null===d.record&&(d.record=1),d.track[a]["gain"]&&(2===d.record&&s.record&&s.nbBeatsCurrentRecord+1===s.nbBeatsRecord||s.endOfRecord||i("playNote",{sampleId:d.id,gainNote:d.track[a]["gain"],pitchNote:d.track[a]["pitch"]}))},scheduler:function(t,e){var i=t.state,n=t.commit,s=t.dispatch,a=e.channelId,o=e.record,r=void 0===o?null:o,l=i.samplesChosen.find((function(t){return t.id===a}));while(l.nextNoteTime<i.audioCtx.currentTime+i.scheduleAheadTime){if(l.fxParams.frequency=l.audioNode.filter.frequency.value,s("scheduleNote",{beatNumber:l.currentNote,time:l.nextNoteTime,channelId:l.id,record:r}),i.record&&i.startTime+i.nbBeatsRecord*i.nbBeats*(60/i.bpm)<i.audioCtx.currentTime)break;n("nextNote",l.id)}i.isPlaying&&(l.timerID=window.setTimeout((function(){s("scheduler",{channelId:l.id,record:r})}),i.lookAhead))},loopSeeTime:function(t){var e=t.state,i=t.getters,n=t.dispatch;if(e.isPlaying){var s=document.getElementById("progress"),a=i.getCurrentBeat;s.style.width=(a-1)/e.nbBeats*100+"%"}else!1===e.record&&!1===e.isPlaying&&(document.getElementById("progress").style.width="0%");e.loopSeeTime=window.requestAnimationFrame((function(){n("loopSeeTime")}))},play:function(t){var e=t.state,i=(t.commit,t.dispatch),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.oldSourceNodes.forEach((function(t){t.stop()})),e.isPlaying=!0,document.getElementById("bpm").disabled=!0,document.getElementById("inputButtonUp").disabled=!0,document.getElementById("inputButtonDown").disabled=!0,document.getElementById("bpmGroup").style.opacity=.5,document.getElementById("nbBeats").disabled=!0,document.getElementById("inputButtonUpNbBeats").disabled=!0,document.getElementById("inputButtonDownNbBeats").disabled=!0,document.getElementById("nbBeatsGroup").style.opacity=.5,e.startTime=e.audioCtx.currentTime,e.startTimeAutomation=e.audioCtx.currentTime+.1,i("automation",{time:e.audioCtx.currentTime+.1,point:0,timeAutomation:e.audioCtx.currentTime+.1}),e.samplesChosen.forEach((function(t){t.sliderFreqDisabled=!0,t.QKnobDisabled=!0,t.nextNoteTime=e.audioCtx.currentTime+.1,i("scheduler",{channelId:t.id,record:n}),window.requestAnimationFrame((function(){i("loopSeeTime")}))}));for(var s=document.getElementsByName("select"),a=0;a<s.length;a++)s[a].disabled=!0,s[a].style.backgroundColor="#888"},stop:function(t){var e=t.state;e.isPlaying=!1,window.cancelAnimationFrame(e.loopSeeTime),document.getElementById("bpm").disabled=!1,document.getElementById("inputButtonUp").disabled=!1,document.getElementById("inputButtonDown").disabled=!1,document.getElementById("bpmGroup").style.opacity=1,document.getElementById("nbBeats").disabled=!1,document.getElementById("inputButtonUpNbBeats").disabled=!1,document.getElementById("inputButtonDownNbBeats").disabled=!1,document.getElementById("nbBeatsGroup").style.opacity=1;for(var i=document.getElementsByName("select"),n=0;n<i.length;n++)i[n].disabled=!1,i[n].style.backgroundColor="#FFF";window.clearTimeout(e.timerAutomation),e.samplesChosen.forEach((function(t){t.audioNode.filter.frequency.cancelScheduledValues(e.audioCtx.currentTime),t.sliderFreqDisabled=!1,t.QKnobDisabled=!1,window.clearTimeout(t.timerID),t.currentNote=0,t.nextNoteTime=0;var i=parseFloat(document.getElementById("freq"+t.id).value);i=(20*Math.pow(10,i)).toFixed(0)})),e.oldSourceNodes.forEach((function(t){t.stop()}))},automation:function(t,e){var i=t.state,n=t.dispatch,s=e.time,a=e.point,o=e.timeAutomation;a>=14*i.nbBeats&&(i.startTimeAutomation+=i.nbBeats*(60/i.bpm),a=0),o-i.startTimeAutomation>a*(60/i.bpm)*(1/14)&&(i.samplesChosen.forEach((function(t){t.audioNode.filter.frequency.setValueAtTime(t.frequencyInTime[a],s)})),a+=1,s+=60/i.bpm*(1/14)),i.isPlaying&&(i.timerAutomation=window.setTimeout((function(){n("automation",{time:s,point:a,timeAutomation:o+i.lookAhead})}),i.lookAhead))},startRecord:function(t){var e=t.state,i=t.dispatch;e.record||(e.isPlaying&&(i("stop"),document.getElementById("btnPause").classList.add("d-none"),document.getElementById("btnPlay").classList.remove("d-none")),document.getElementById("btnPlay").disabled=!0,document.getElementById("btnPause").disabled=!0,document.getElementById("circleRecord").style.fill="red",e.stream=e.audioCtx.createMediaStreamDestination(),e.limiter.disconnect(),e.recorder=new MediaRecorder(e.stream.stream),e.record=!0,e.limiter.connect(e.stream),e.recorder.start(),i("play",!0),e.recorder.ondataavailable=function(t){e.chunks.push(t.data)},e.recorder.onstop=function(t){e.nbBeatsCurrentRecord=0,e.record=!1;var i=new Blob(e.chunks,{type:"audio/wav"});e.downloadAvailable=!0;var n=document.getElementById("saveRecordFileA");n.setAttribute("href",URL.createObjectURL(i)),document.getElementById("saveFileNameRecord").click(),e.limiter.disconnect(),e.limiter.connect(e.analyser),e.chunks=[],document.getElementById("btnPlay").disabled=!1,document.getElementById("btnPause").disabled=!1,document.getElementById("circleRecord").style.fill="white",document.getElementById("progress").style.width="0%",e.samplesChosen.forEach((function(t){t.record=null})),e.endOfRecord=!1})}},modules:{}});i("ab8b"),i("7b17");Object(n["c"])(r).use(Yi).use(Wi).mount("#app")},"5ac5":function(t,e,i){t.exports=i.p+"img/maschine-default.05627aa7.png"},"65df":function(t,e,i){},"6a7b":function(t,e,i){},7854:function(t,e,i){t.exports=i.p+"img/roland_SH_101_knob.2ecec4d8.png"},8872:function(t,e,i){"use strict";i("4776")},"88b9":function(t,e,i){t.exports=i.p+"media/snare.8a0ccd5d.wav"},"8e72":function(t,e,i){},"8f8a":function(t,e,i){},"932a":function(t,e,i){},9577:function(t,e,i){"use strict";i("65df")},a031:function(t,e,i){},a917:function(t,e,i){"use strict";i("b047")},afa7:function(t,e,i){"use strict";i("932a")},b047:function(t,e,i){},bf8e:function(t,e,i){"use strict";i("3ce0")},c779:function(t){t.exports=JSON.parse('{"bpm":140,"masterVolume":1,"nbTemps":4,"nbRecord":1,"channels":[{"id":1,"volume":0.75,"pan":0,"name":"Default","src":null,"nbSubDiv":4,"track":[{"gain":1,"pitch":null,"id":1},{"gain":0,"pitch":null,"id":2},{"gain":0,"pitch":null,"id":3},{"gain":0,"pitch":null,"id":4},{"gain":0,"pitch":null,"id":5},{"gain":0,"pitch":null,"id":6},{"gain":0,"pitch":null,"id":7},{"gain":0,"pitch":null,"id":8},{"gain":0,"pitch":null,"id":9},{"gain":0,"pitch":null,"id":10},{"gain":1,"pitch":null,"id":11},{"gain":0,"pitch":null,"id":12},{"gain":0,"pitch":null,"id":13},{"gain":0,"pitch":null,"id":14},{"gain":0.5,"pitch":-200,"id":15},{"gain":0,"pitch":null,"id":16}],"filterName":"Lowpass","filterColor":"red","filterType":"lowpass","frequencyInTime":[200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200],"frequency":"40","Q":1},{"id":2,"volume":0.85,"pan":0,"name":"Default","src":null,"nbSubDiv":4,"track":[{"gain":0,"pitch":null,"id":1},{"gain":0,"pitch":null,"id":2},{"gain":0,"pitch":null,"id":3},{"gain":0,"pitch":null,"id":4},{"gain":1,"pitch":null,"id":5},{"gain":0,"pitch":null,"id":6},{"gain":0,"pitch":null,"id":7},{"gain":0,"pitch":null,"id":8},{"gain":0,"pitch":null,"id":9},{"gain":0,"pitch":null,"id":10},{"gain":0,"pitch":null,"id":11},{"gain":0,"pitch":null,"id":12},{"gain":1,"pitch":null,"id":13},{"gain":0,"pitch":null,"id":14},{"gain":0,"pitch":null,"id":15},{"gain":0,"pitch":null,"id":16}],"filterName":"Highpass","filterColor":"green","filterType":"highpass","frequencyInTime":[700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700,700],"frequency":"445","Q":1},{"id":3,"volume":0.85,"pan":0,"name":"Default","src":null,"nbSubDiv":6,"track":[{"gain":1,"pitch":null,"id":1},{"gain":0,"pitch":null,"id":2},{"gain":0,"pitch":null,"id":3},{"gain":0.5,"pitch":null,"id":4},{"gain":0,"pitch":null,"id":5},{"gain":0,"pitch":null,"id":6},{"gain":1,"pitch":null,"id":7},{"gain":0,"pitch":null,"id":8},{"gain":0,"pitch":null,"id":9},{"gain":0.25,"pitch":null,"id":10},{"gain":0,"pitch":null,"id":11},{"gain":0,"pitch":null,"id":12},{"gain":1,"pitch":null,"id":13},{"gain":0,"pitch":null,"id":14},{"gain":0,"pitch":null,"id":15},{"gain":0.5,"pitch":null,"id":16},{"gain":0,"pitch":null,"id":17},{"gain":0,"pitch":null,"id":18},{"gain":1,"pitch":null,"id":19},{"gain":0,"pitch":null,"id":20},{"gain":0.5,"pitch":200,"id":21},{"gain":0.25,"pitch":-200,"id":22},{"gain":0,"pitch":null,"id":23},{"gain":1,"pitch":200,"id":24}],"filterName":"Bypass","filterColor":"#333333","filterType":"allpass","frequencyInTime":[20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20],"frequency":20,"Q":1}]}')},c936:function(t,e,i){t.exports=i.p+"img/ENIB-logo.2e1d6617.png"},d4cd:function(t,e,i){"use strict";i("a031")},dbdd:function(t,e,i){t.exports=i.p+"media/kick.0ef44e69.wav"},dd82:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAKCAYAAAC9vt6cAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAE0SURBVChTZVHBSsNAEJ3ZzW5AC17UtgS1sZu20IP04KEHv72XnjwURBEKUvBgQa8V6aHJOLPJJqm+MHmZnZm3MxPsdS+pE58AKgIqCAIQEZRSNYdvfnEuAnHqz34PeJUk1D+/4AQOwrHA3+La2CdW+Pj8AkxvrskNBqBQVaUNyuKmk2Asz1cRrDcbQJemdDedQhRp35agTAoCxx0IhAoed/XyDDhxI3qYz8FYLaEqoeG2QDgTy4scFsulxDQYY8DauGJbcxzHtQXfWokZ7jjisVlskmV0P5v5EdodtG8XC+eyaHkOeQGPqycWGGU0Hjow1Q5CcSkg3Ah4sIb4hzyH1/Ub4Ng5Snpd0FpzTAr+dxD8GvwtS3zfbvkvDG/p7LTjlX2iF2mK5Vz2JPMGyAgF8273Db9Rb05/FqR7GAAAAABJRU5ErkJggg=="},ddb3:function(t,e,i){"use strict";i("2c81")},e1ea:function(t,e,i){},ebc8:function(t,e,i){"use strict";i("065a")},ec3f:function(t,e,i){"use strict";i("6a7b")},fc57:function(t,e,i){}});
//# sourceMappingURL=app.1f34c0f7.js.map